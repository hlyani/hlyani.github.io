
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Ovirt 相关 · hlyani</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="hlyani">
        
        
    
    <link rel="stylesheet" href="../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-pageview-count/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="mqtt.html" />
    
    
    <link rel="prev" href="computer_network_foundation.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../">
            
                <a href="../../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../proxy.html">
            
                <a href="../proxy.html">
            
                    
                    proxy 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../pip.html">
            
                <a href="../pip.html">
            
                    
                    pip 源相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../linux_source.html">
            
                <a href="../linux_source.html">
            
                    
                    linux 源相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../git.html">
            
                <a href="../git.html">
            
                    
                    git 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../skills.html">
            
                <a href="../skills.html">
            
                    
                    skills
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" >
            
                <span>
            
                    
                    容器相关
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../docker/usual_software.html">
            
                <a href="../docker/usual_software.html">
            
                    
                    常用软件安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../docker/kubeflow.html">
            
                <a href="../docker/kubeflow.html">
            
                    
                    kubeflow
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../docker/kube-scheduler.html">
            
                <a href="../docker/kube-scheduler.html">
            
                    
                    kube-scheduler
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.4" data-path="../docker/volcano.html">
            
                <a href="../docker/volcano.html">
            
                    
                    volcano
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.5" data-path="../docker/kubeasz.html">
            
                <a href="../docker/kubeasz.html">
            
                    
                    kubeasz
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.6" data-path="../docker/calico.html">
            
                <a href="../docker/calico.html">
            
                    
                    calico
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.7" data-path="../docker/ingress.html">
            
                <a href="../docker/ingress.html">
            
                    
                    ingress
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.8" data-path="../docker/apisix.html">
            
                <a href="../docker/apisix.html">
            
                    
                    apisix
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.9" data-path="../docker/kubebuilder.html">
            
                <a href="../docker/kubebuilder.html">
            
                    
                    kubebuilder
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.10" data-path="../docker/containerd.html">
            
                <a href="../docker/containerd.html">
            
                    
                    Containerd
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.11" data-path="../docker/buildah.html">
            
                <a href="../docker/buildah.html">
            
                    
                    Buildah
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.12" data-path="../docker/buildkit.html">
            
                <a href="../docker/buildkit.html">
            
                    
                    Buildkit
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.13" data-path="../docker/docker.html">
            
                <a href="../docker/docker.html">
            
                    
                    docker 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.14" data-path="../docker/multiarch.html">
            
                <a href="../docker/multiarch.html">
            
                    
                    容器交叉编译
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.15" data-path="../docker/kubeedge.html">
            
                <a href="../docker/kubeedge.html">
            
                    
                    kubeedge
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.16" data-path="../docker/k3s_deploy.html">
            
                <a href="../docker/k3s_deploy.html">
            
                    
                    k3s 安装与使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.17" data-path="../docker/k3s_make.html">
            
                <a href="../docker/k3s_make.html">
            
                    
                    k3s 源码编译
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.18" data-path="../docker/rancher.html">
            
                <a href="../docker/rancher.html">
            
                    
                    rancher 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.19" data-path="../docker/debootstrap.html">
            
                <a href="../docker/debootstrap.html">
            
                    
                    容器基础镜像构建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.20" data-path="../docker/overlay2.html">
            
                <a href="../docker/overlay2.html">
            
                    
                    overlay2
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.21" data-path="../docker/k8s.html">
            
                <a href="../docker/k8s.html">
            
                    
                    k8s 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.22" data-path="../docker/k8s_yaml.html">
            
                <a href="../docker/k8s_yaml.html">
            
                    
                    k8s 常用 yaml
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.23" data-path="../docker/k8s_deploy.html">
            
                <a href="../docker/k8s_deploy.html">
            
                    
                    k8s 安装部署
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.24" data-path="../docker/k8s_use.html">
            
                <a href="../docker/k8s_use.html">
            
                    
                    k8s 使用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.25" data-path="../docker/k8s_hpa.html">
            
                <a href="../docker/k8s_hpa.html">
            
                    
                    k8s hpa
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.26" data-path="../docker/k8s_ceph.html">
            
                <a href="../docker/k8s_ceph.html">
            
                    
                    k8s 使用 ceph 储存
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.27" data-path="../docker/chartmuseum.html">
            
                <a href="../docker/chartmuseum.html">
            
                    
                    chartmuseum 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.28" data-path="../docker/harbor.html">
            
                <a href="../docker/harbor.html">
            
                    
                    harbor 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.29" data-path="../docker/helm.html">
            
                <a href="../docker/helm.html">
            
                    
                    helm 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.30" data-path="../docker/docker_net.html">
            
                <a href="../docker/docker_net.html">
            
                    
                    docker 网络相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.31" data-path="../docker/docker_swarm.html">
            
                <a href="../docker/docker_swarm.html">
            
                    
                    docker swarm 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.32" data-path="../docker/docker_compose.html">
            
                <a href="../docker/docker_compose.html">
            
                    
                    docker compose 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.33" data-path="../docker/docker_registry.html">
            
                <a href="../docker/docker_registry.html">
            
                    
                    docker registry 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.34" data-path="../docker/openshift.html">
            
                <a href="../docker/openshift.html">
            
                    
                    openshift 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.35" data-path="../docker/convert_iso_to_docker_img.html">
            
                <a href="../docker/convert_iso_to_docker_img.html">
            
                    
                    将ISO镜像转换为docker镜像
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.36" data-path="../docker/mount_usb_to_docker.html">
            
                <a href="../docker/mount_usb_to_docker.html">
            
                    
                    挂载USB到docker容器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.37" data-path="../docker/local_static_provisioner.html">
            
                <a href="../docker/local_static_provisioner.html">
            
                    
                    local-static-provisioner
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.38" data-path="../docker/change_ssl.md">
            
                <span>
            
                    
                    change_ssl
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" >
            
                <span>
            
                    
                    Golang 相关
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.8.1" data-path="../golang/go.html">
            
                <a href="../golang/go.html">
            
                    
                    golang 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.8.2" data-path="../golang/go_authens.md">
            
                <span>
            
                    
                    GO Authens 代理
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.9" >
            
                <span>
            
                    
                    OpenStack 相关
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.9.1" data-path="../openstack/whatisruntime.html">
            
                <a href="../openstack/whatisruntime.html">
            
                    
                    区分当前系统运行环境
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.2" data-path="../openstack/qemu_make.html">
            
                <a href="../openstack/qemu_make.html">
            
                    
                    QEMU 源码编译
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.3" data-path="../openstack/openstack.html">
            
                <a href="../openstack/openstack.html">
            
                    
                    OpenStack 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.4" data-path="../openstack/openstack_faq.html">
            
                <a href="../openstack/openstack_faq.html">
            
                    
                    OpenStack 中遇到的问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.5" data-path="../openstack/delete_cinder_volume.html">
            
                <a href="../openstack/delete_cinder_volume.html">
            
                    
                    删除 Cinder 僵尸实例
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.6" data-path="../openstack/add_nic_to_vm.html">
            
                <a href="../openstack/add_nic_to_vm.html">
            
                    
                    给虚拟机添加网卡
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.7" data-path="../openstack/make_openstack_image.html">
            
                <a href="../openstack/make_openstack_image.html">
            
                    
                    制作 OpenStack 镜像
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.8" data-path="../openstack/openstack_win_vm_diaplay.html">
            
                <a href="../openstack/openstack_win_vm_diaplay.html">
            
                    
                    OpenStack Windows 虚拟机分辨率问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.9" data-path="../openstack/kolla_network.html">
            
                <a href="../openstack/kolla_network.html">
            
                    
                    Kolla 网络规划
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.10" data-path="../openstack/kolla_deploy.html">
            
                <a href="../openstack/kolla_deploy.html">
            
                    
                    Kolla 部署相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.11" data-path="../openstack/kolla_image_build.html">
            
                <a href="../openstack/kolla_image_build.html">
            
                    
                    Kolla 镜像构建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.12" data-path="../openstack/devstack.html">
            
                <a href="../openstack/devstack.html">
            
                    
                    Devstack 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.13" data-path="../openstack/heat.html">
            
                <a href="../openstack/heat.html">
            
                    
                    Heat 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.14" data-path="../openstack/qga.html">
            
                <a href="../openstack/qga.html">
            
                    
                    qemu-guest-agent 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.15" data-path="../openstack/ovs.html">
            
                <a href="../openstack/ovs.html">
            
                    
                    OVS 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.16" data-path="../openstack/migrate_to_other_platform.html">
            
                <a href="../openstack/migrate_to_other_platform.html">
            
                    
                    迁移虚拟机到其他平台
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.17" data-path="../openstack/openstack_hygon_patch.html">
            
                <a href="../openstack/openstack_hygon_patch.html">
            
                    
                    OpenStack对hygon的兼容
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9.18" data-path="../openstack/lsf_install_openstack.html">
            
                <a href="../openstack/lsf_install_openstack.html">
            
                    
                    Lfs上安装OpenStack
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.10" >
            
                <span>
            
                    
                    Linux 相关
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="../linux/alpine.html">
            
                <a href="../linux/alpine.html">
            
                    
                    alpine
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="../linux/redis.html">
            
                <a href="../linux/redis.html">
            
                    
                    redis
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.3" data-path="../linux/ib.html">
            
                <a href="../linux/ib.html">
            
                    
                    ib
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="../linux/loki.html">
            
                <a href="../linux/loki.html">
            
                    
                    loki
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.5" data-path="../linux/http_status_code.html">
            
                <a href="../linux/http_status_code.html">
            
                    
                    HTTP 状态码
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.6" data-path="../linux/yq.html">
            
                <a href="../linux/yq.html">
            
                    
                    yq
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.7" data-path="../linux/conda.html">
            
                <a href="../linux/conda.html">
            
                    
                    conda
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.8" data-path="../linux/minio.html">
            
                <a href="../linux/minio.html">
            
                    
                    minio
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.9" data-path="../linux/prometheus.html">
            
                <a href="../linux/prometheus.html">
            
                    
                    prometheus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.10" data-path="../linux/test_tools.html">
            
                <a href="../linux/test_tools.html">
            
                    
                    test_tools
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.11" data-path="../linux/gitlab.html">
            
                <a href="../linux/gitlab.html">
            
                    
                    gitlab
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.12" data-path="../linux/etcd.html">
            
                <a href="../linux/etcd.html">
            
                    
                    etcd
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.13" data-path="../linux/frp.html">
            
                <a href="../linux/frp.html">
            
                    
                    frp
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.14" data-path="../linux/synology.html">
            
                <a href="../linux/synology.html">
            
                    
                    synology
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.15" data-path="../linux/adb.md">
            
                <span>
            
                    
                    adb
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.16" data-path="../linux/netns.html">
            
                <a href="../linux/netns.html">
            
                    
                    netns
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.17" data-path="../linux/uboot.html">
            
                <a href="../linux/uboot.html">
            
                    
                    uboot
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.18" data-path="../linux/linux_network.html">
            
                <a href="../linux/linux_network.html">
            
                    
                    linux 网络配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.19" data-path="../linux/qemu_img.html">
            
                <a href="../linux/qemu_img.html">
            
                    
                    qemu-img
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.20" data-path="../linux/systemd.html">
            
                <a href="../linux/systemd.html">
            
                    
                    systemd
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.21" data-path="../linux/dd.html">
            
                <a href="../linux/dd.html">
            
                    
                    dd 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.22" data-path="../linux/kernel_make.html">
            
                <a href="../linux/kernel_make.html">
            
                    
                    kernel 内核编译
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.23" data-path="../nodejs.html">
            
                <a href="../nodejs.html">
            
                    
                    nodejs 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.24" data-path="../linux/unixbench.html">
            
                <a href="../linux/unixbench.html">
            
                    
                    UnixBench 虚拟机性能测试工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.25" data-path="../linux/pypi_local_source.html">
            
                <a href="../linux/pypi_local_source.html">
            
                    
                    pip 本地源
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.26" data-path="../linux/lvm.html">
            
                <a href="../linux/lvm.html">
            
                    
                    LVM 逻辑卷相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.27" data-path="../linux/tcpdump.html">
            
                <a href="../linux/tcpdump.html">
            
                    
                    tcpdump 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.28" data-path="../linux/libvirt.html">
            
                <a href="../linux/libvirt.html">
            
                    
                    libvirt 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.29" data-path="../linux/linux.html">
            
                <a href="../linux/linux.html">
            
                    
                    Linux 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.30" data-path="../linux/change_centos_boot_kernel.html">
            
                <a href="../linux/change_centos_boot_kernel.html">
            
                    
                    CentOS 修改默认启动内核
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.31" data-path="../linux/vim.html">
            
                <a href="../linux/vim.html">
            
                    
                    Vim 常用命令
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.32" data-path="../linux/nested.html">
            
                <a href="../linux/nested.html">
            
                    
                    嵌套虚拟化
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.33" data-path="../linux/net_bridge.html">
            
                <a href="../linux/net_bridge.html">
            
                    
                    创建网桥
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.34" data-path="../linux/nic_bond.html">
            
                <a href="../linux/nic_bond.html">
            
                    
                    网络端口聚合绑定
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.35" data-path="../linux/ramdisk.html">
            
                <a href="../linux/ramdisk.html">
            
                    
                    虚拟内存盘
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.36" data-path="../linux/ssh_interval.html">
            
                <a href="../linux/ssh_interval.html">
            
                    
                    ssh 自动断开
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.37" data-path="../linux/ssh_forwading.html">
            
                <a href="../linux/ssh_forwading.html">
            
                    
                    ssh 转发
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.38" data-path="../linux/samba.html">
            
                <a href="../linux/samba.html">
            
                    
                    Samba 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.39" data-path="../linux/ftp.html">
            
                <a href="../linux/ftp.html">
            
                    
                    ftp 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.40" data-path="../linux/iscsi.html">
            
                <a href="../linux/iscsi.html">
            
                    
                    iscsi 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.41" data-path="../linux/guestfish.html">
            
                <a href="../linux/guestfish.html">
            
                    
                    guestfish 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.42" data-path="../linux/nginx.html">
            
                <a href="../linux/nginx.html">
            
                    
                    nginx 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.43" data-path="../linux/haproxy.html">
            
                <a href="../linux/haproxy.html">
            
                    
                    haproxy 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.44" data-path="../linux/build_pypi.html">
            
                <a href="../linux/build_pypi.html">
            
                    
                    发布pypi软件包
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.45" data-path="../linux/mysql.html">
            
                <a href="../linux/mysql.html">
            
                    
                    mysql 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.46" data-path="../linux/ssr_privoxy.html">
            
                <a href="../linux/ssr_privoxy.html">
            
                    
                    ssr privoxy 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.47" data-path="../linux/proxychains_ng.html">
            
                <a href="../linux/proxychains_ng.html">
            
                    
                    proxychains-ng 代理工具
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.48" data-path="../linux/virt_manager.html">
            
                <a href="../linux/virt_manager.html">
            
                    
                    virt-manager 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.49" data-path="../linux/linux_source.html">
            
                <a href="../linux/linux_source.html">
            
                    
                    Linux 源制作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.50" data-path="../linux/rpm_build.html">
            
                <a href="../linux/rpm_build.html">
            
                    
                    Python rpm编译
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.51" data-path="../linux/yum_install_conf_conflict.md">
            
                <span>
            
                    
                    yum 安装时文件冲突
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.52" data-path="../linux/crontabs.html">
            
                <a href="../linux/crontabs.html">
            
                    
                    crontabs 计划任务相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.53" data-path="../linux/diy_centos_iso.html">
            
                <a href="../linux/diy_centos_iso.html">
            
                    
                    CentOS iso 镜像定制
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.54" data-path="../linux/ansible.html">
            
                <a href="../linux/ansible.html">
            
                    
                    ansible 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.55" data-path="../linux/cobbler.html">
            
                <a href="../linux/cobbler.html">
            
                    
                    cobbler 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.56" data-path="../linux/apache_multi_ports.html">
            
                <a href="../linux/apache_multi_ports.html">
            
                    
                    apache 多端口
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.57" data-path="../linux/dns.html">
            
                <a href="../linux/dns.html">
            
                    
                    搭建本地 dns 服务器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.58" data-path="../linux/linux_u.html">
            
                <a href="../linux/linux_u.html">
            
                    
                    Linux U盘占用
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.59" data-path="../linux/ssh.html">
            
                <a href="../linux/ssh.html">
            
                    
                    ssh 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.60" data-path="../linux/mdadm.html">
            
                <a href="../linux/mdadm.html">
            
                    
                    软 raid
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.61" data-path="../linux/root_extend.html">
            
                <a href="../linux/root_extend.html">
            
                    
                    将 home 目录空间扩容到根目录
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.62" data-path="../linux/vm_to_router.html">
            
                <a href="../linux/vm_to_router.html">
            
                    
                    将虚拟机作为router
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" >
            
                <span>
            
                    
                    Ceph 相关
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.11.1" data-path="../ceph/ceph.html">
            
                <a href="../ceph/ceph.html">
            
                    
                    Ceph
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.2" data-path="../ceph/crushmap.html">
            
                <a href="../ceph/crushmap.html">
            
                    
                    crushmap
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.11.3" data-path="../ceph/cephconf.html">
            
                <a href="../ceph/cephconf.html">
            
                    
                    ceph.conf
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.12" >
            
                <span>
            
                    
                    Python 相关
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.12.1" data-path="../python/xpath.html">
            
                <a href="../python/xpath.html">
            
                    
                    xpath 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.2" data-path="../python/regular_expression.html">
            
                <a href="../python/regular_expression.html">
            
                    
                    正则表达式相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.3" data-path="../python/django.html">
            
                <a href="../python/django.html">
            
                    
                    Django 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.4" data-path="../python/flask.html">
            
                <a href="../python/flask.html">
            
                    
                    Flask 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.5" data-path="../python/python.html">
            
                <a href="../python/python.html">
            
                    
                    Python 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.6" data-path="../python/python_obfuscated_code.html">
            
                <a href="../python/python_obfuscated_code.html">
            
                    
                    Python 代码混淆
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.7" data-path="../python/sqlalchemy.html">
            
                <a href="../python/sqlalchemy.html">
            
                    
                    Python Sqlalchemy
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.8" data-path="../python/python_logging.html">
            
                <a href="../python/python_logging.html">
            
                    
                    Python logging模块
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.9" data-path="../python/python_decorators.html">
            
                <a href="../python/python_decorators.html">
            
                    
                    Python 装饰器
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.10" data-path="../python/python_file.html">
            
                <a href="../python/python_file.html">
            
                    
                    Python 文件操作
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.11" data-path="../python/scrapy.html">
            
                <a href="../python/scrapy.html">
            
                    
                    scrapy 爬虫
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.12" data-path="../python/urllib2.html">
            
                <a href="../python/urllib2.html">
            
                    
                    urllib2 爬虫
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.13" data-path="../python/yield.html">
            
                <a href="../python/yield.html">
            
                    
                    yield
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.14" data-path="../python/jinja2.html">
            
                <a href="../python/jinja2.html">
            
                    
                    Jinja2 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12.15" data-path="../python/python_code_standards.html">
            
                <a href="../python/python_code_standards.html">
            
                    
                    Python 代码规范
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.13" >
            
                <span>
            
                    
                    大数据相关
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.13.1" data-path="../bigdata/bigdata_deploy.html">
            
                <a href="../bigdata/bigdata_deploy.html">
            
                    
                    大数据相关环境安装
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.2" data-path="../bigdata/hadoop.html">
            
                <a href="../bigdata/hadoop.html">
            
                    
                    Hadoop 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.3" data-path="../bigdata/hadoop_single.html">
            
                <a href="../bigdata/hadoop_single.html">
            
                    
                    Hadoop 单机伪分布式部署
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.4" data-path="../bigdata/hadoop_cluster.html">
            
                <a href="../bigdata/hadoop_cluster.html">
            
                    
                    Hadoop 集群搭建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.5" data-path="../bigdata/hive.html">
            
                <a href="../bigdata/hive.html">
            
                    
                    Hive 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.6" data-path="../bigdata/hbase.html">
            
                <a href="../bigdata/hbase.html">
            
                    
                    Hbase 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.7" data-path="../bigdata/spark.html">
            
                <a href="../bigdata/spark.html">
            
                    
                    spark 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.8" data-path="../bigdata/spark_sql.html">
            
                <a href="../bigdata/spark_sql.html">
            
                    
                    spark sql 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.9" data-path="../bigdata/storm.html">
            
                <a href="../bigdata/storm.html">
            
                    
                    storm 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.10" data-path="../bigdata/scala.html">
            
                <a href="../bigdata/scala.html">
            
                    
                    scala 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.11" data-path="../bigdata/sqoop.html">
            
                <a href="../bigdata/sqoop.html">
            
                    
                    sqoop 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.12" data-path="../bigdata/flink.html">
            
                <a href="../bigdata/flink.html">
            
                    
                    flink 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.13" data-path="../bigdata/flume.html">
            
                <a href="../bigdata/flume.html">
            
                    
                    flume 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.14" data-path="../bigdata/elasticsearch.html">
            
                <a href="../bigdata/elasticsearch.html">
            
                    
                    elasticsearch 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.15" data-path="../bigdata/etl.html">
            
                <a href="../bigdata/etl.html">
            
                    
                    ETL 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.16" data-path="../bigdata/mapreduce.html">
            
                <a href="../bigdata/mapreduce.html">
            
                    
                    mapreduce 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.17" data-path="../bigdata/numpy.html">
            
                <a href="../bigdata/numpy.html">
            
                    
                    numpy 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.18" data-path="../bigdata/pandas.html">
            
                <a href="../bigdata/pandas.html">
            
                    
                    pandas 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.19" data-path="../bigdata/pyhdfs.html">
            
                <a href="../bigdata/pyhdfs.html">
            
                    
                    pyhdfs 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.20" data-path="../bigdata/reptile.html">
            
                <a href="../bigdata/reptile.html">
            
                    
                    reptile 爬虫相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.21" data-path="../bigdata/pyecharts.html">
            
                <a href="../bigdata/pyecharts.html">
            
                    
                    pyecharts 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13.22" data-path="../bigdata/matplotlib.html">
            
                <a href="../bigdata/matplotlib.html">
            
                    
                    matplotlib 相关
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.14" >
            
                <span>
            
                    
                    机器学习相关
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.14.1" data-path="../ai/langgraph.html">
            
                <a href="../ai/langgraph.html">
            
                    
                    LangGraph
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.2" data-path="../ai/mcp_functioncall.html">
            
                <a href="../ai/mcp_functioncall.html">
            
                    
                    MCP And Function Call
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.3" data-path="../ai/ollama_vllm.html">
            
                <a href="../ai/ollama_vllm.html">
            
                    
                    ollama and vllm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.4" data-path="../ai/ML.html">
            
                <a href="../ai/ML.html">
            
                    
                    ML
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.5" data-path="../ai/tensorflow_and_keras.html">
            
                <a href="../ai/tensorflow_and_keras.html">
            
                    
                    tensorflow 和 keras 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.6" data-path="../ai/cifar_10.html">
            
                <a href="../ai/cifar_10.html">
            
                    
                    cifar-10 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.14.7" data-path="../ai/darknet_to_caffe.html">
            
                <a href="../ai/darknet_to_caffe.html">
            
                    
                    Darknet to Caffe
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.15" >
            
                <span>
            
                    
                    其他
            
                </span>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.15.1" data-path="nativefier.html">
            
                <a href="nativefier.html">
            
                    
                    Nativefier 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.2" data-path="ptp.html">
            
                <a href="ptp.html">
            
                    
                    ptp 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.3" data-path="xenserver.html">
            
                <a href="xenserver.html">
            
                    
                    xenserver 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.4" data-path="computer_network_foundation.html">
            
                <a href="computer_network_foundation.html">
            
                    
                    计算机网络基础
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.15.5" data-path="ovirt.html">
            
                <a href="ovirt.html">
            
                    
                    Ovirt 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.6" data-path="mqtt.html">
            
                <a href="mqtt.html">
            
                    
                    MQTT 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.7" data-path="kafka.html">
            
                <a href="kafka.html">
            
                    
                    Kafka 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.8" data-path="pyqt5.html">
            
                <a href="pyqt5.html">
            
                    
                    PyQt5 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.9" data-path="ionic_cordova.html">
            
                <a href="ionic_cordova.html">
            
                    
                    ionic 、cordova  编译 andriod
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.10" data-path="cloudfoundry.html">
            
                <a href="cloudfoundry.html">
            
                    
                    cloudfoundry 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.11" data-path="svn.html">
            
                <a href="svn.html">
            
                    
                    svn 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.12" data-path="anaconda.html">
            
                <a href="anaconda.html">
            
                    
                    anaconda 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.13" data-path="jupyter.html">
            
                <a href="jupyter.html">
            
                    
                    jupyter 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.14" data-path="webdriver.html">
            
                <a href="webdriver.html">
            
                    
                    webdriver 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.15" data-path="java.html">
            
                <a href="java.html">
            
                    
                    Java 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.16" data-path="websocket.html">
            
                <a href="websocket.html">
            
                    
                    websocket 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.17" data-path="stratos_ui.html">
            
                <a href="stratos_ui.html">
            
                    
                    stratos-ui 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.18" data-path="apidoc.html">
            
                <a href="apidoc.html">
            
                    
                    apidoc 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.19" data-path="keepalived.html">
            
                <a href="keepalived.html">
            
                    
                    keepalived 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.20" data-path="linux_desktop_rdp.html">
            
                <a href="linux_desktop_rdp.html">
            
                    
                    Linux Desktop rdp 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.21" data-path="gitbook.html">
            
                <a href="gitbook.html">
            
                    
                    GitBook 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.22" data-path="github_pages.html">
            
                <a href="github_pages.html">
            
                    
                    GitHub Pages
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.23" data-path="web.html">
            
                <a href="web.html">
            
                    
                    Web 相关
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.24" data-path="build_atlas.html">
            
                <a href="build_atlas.html">
            
                    
                    Atlas 驱动构建
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.15.25" data-path="be_mined.html">
            
                <a href="be_mined.html">
            
                    
                    记一次被挖矿
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../.." >Ovirt 相关</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="ovirt-&#x76F8;&#x5173;">Ovirt &#x76F8;&#x5173;</h1>
<h2 id="&#x4E00;&#x3001;&#x4ECB;&#x7ECD;">&#x4E00;&#x3001;&#x4ECB;&#x7ECD;</h2>
<blockquote>
<p>oVirt&#x662F;&#x4E00;&#x4E2A;&#x5F00;&#x6E90;&#x670D;&#x52A1;&#xFF0C;&#x662F;&#x90E8;&#x7F72;&#x5728;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF08;CentOS&#x3001;Red Hat Enterprise Linux&#xFF09;&#x4E0A;&#x7684;&#x684C;&#x9762;&#x865A;&#x62DF;&#x5316;&#x5E73;&#x53F0;&#x3002;</p>
</blockquote>
<h5 id="1&#x3001;ovirt-engine">1&#x3001;oVirt-engine</h5>
<blockquote>
<p>&#x865A;&#x62DF;&#x673A;&#x5141;&#x8BB8;&#x4F60;&#x914D;&#x7F6E;&#x4F60;&#x7684;&#x7F51;&#x7EDC;&#xFF0C;&#x5B58;&#x50A8;&#xFF0C;&#x8282;&#x70B9;&#x8FD8;&#x6709;&#x955C;&#x50CF;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x4E5F;&#x63D0;&#x4F9B;&#x4E86;&#x547D;&#x4EE4;&#x884C;&#x5DE5;&#x5177;ovirt-engine-cli&#x548C;&#x5F88;&#x5B9E;&#x7528;&#x7684;API&#xFF08;ovirt-engine-api&#xFF09;&#xFF0C;&#x5305;&#x542B;&#x4E86;python&#x5305;&#x88C5;&#x5668;&#xFF0C;&#x8FD9;&#x4E2A;wrapper&#x53EF;&#x4EE5;&#x5141;&#x8BB8;&#x5F00;&#x53D1;&#x8005;&#x6574;&#x5408;&#x529F;&#x80FD;&#x5230;&#x7B2C;&#x4E09;&#x65B9;&#x7684;shell&#x811A;&#x672C;&#x4E2D;&#x7BA1;&#x7406;&#x3002;</p>
</blockquote>
<h5 id="2&#x3001;vdsm">2&#x3001;VDSM</h5>
<blockquote>
<p>&#x8FD9;&#x4E2A;&#x865A;&#x62DF;&#x684C;&#x9762;&#x548C;&#x670D;&#x52A1;&#x7BA1;&#x7406;&#x5B88;&#x62A4;&#x8FDB;&#x7A0B;&#x8FD0;&#x884C;&#x5728;oVirt&#x7684;&#x7BA1;&#x7406;&#x8282;&#x70B9;&#x4E0A;&#xFF0C;&#x5141;&#x8BB8;oVirt&#x8FDC;&#x7A0B;&#x7684;&#x90E8;&#x7F72;&#xFF0C;&#x5F00;&#x59CB;&#xFF0C;&#x505C;&#x6B62;monitor&#x7AEF;&#x7684;&#x673A;&#x5668;&#x3002;</p>
</blockquote>
<h5 id="3&#x3001;ovirt-node">3&#x3001;oVirt-node</h5>
<blockquote>
<p>&#x865A;&#x62DF;&#x8282;&#x70B9;&#x4EC5;&#x662F;&#x4E00;&#x4E2A;&#x8FD0;&#x884C;&#x5728;&#x865A;&#x62DF;&#x673A;&#x4E0A;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#xFF0C;&#x4ED6;&#x4E5F;&#x53EF;&#x4EE5;&#x628A;&#x4E00;&#x4E2A;&#x6807;&#x51C6;&#x53D1;&#x884C;&#x7248;&#x7684;linux&#x8F6C;&#x6362;&#x6210;&#x4E00;&#x4E2A;&#x8282;&#x70B9;&#xFF0C;&#x8FD9;&#x4E2A;&#x8282;&#x70B9;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; ovirt-engine&#x7BA1;&#x7406;&#xFF0C;&#x901A;&#x8FC7;VDSM&#x548C;&#x5176;&#x4ED6;&#x4F9D;&#x8D56;&#x5B89;&#x88C5;&#x3002;</p>
</blockquote>
<h5 id="4&#x3001;dwh-and-reports">4&#x3001;dwh and reports</h5>
<blockquote>
<p>&#x5BF9;&#x4E8E;ovirt-engine&#xFF0C;&#x62A5;&#x544A;&#x548C;&#x6570;&#x636E;&#x4ED3;&#x5E93;&#x7684;&#x8FD9;&#x4E2A;&#x7EC4;&#x4EF6;&#x662F;&#x53EF;&#x9009;&#x62E9;&#x7684;&#xFF0C;&#x5E76;&#x4E14;&#x662F;&#x5206;&#x522B;&#x5206;&#x88C5;&#x548C;&#x5F00;&#x53D1;&#x7684;&#x3002;</p>
</blockquote>
<h5 id="5&#x3001;&#x57FA;&#x672C;&#x6982;&#x5FF5;">5&#x3001;&#x57FA;&#x672C;&#x6982;&#x5FF5;</h5>
<ul>
<li><p>&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#xFF1A;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#x662F;&#x6240;&#x6709;&#x7269;&#x7406;&#x8D44;&#x6E90;&#x548C;&#x903B;&#x8F91;&#x8D44;&#x6E90;&#x7684;&#x6700;&#x5927;&#x5BB9;&#x5668;&#x5355;&#x4F4D;&#xFF0C;&#x5B83;&#x662F;&#x6240;&#x6709;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x5B58;&#x50A8;&#xFF0C;&#x548C;&#x7F51;&#x7EDC;&#x7684;&#x96C6;&#x5408;&#x3002;</p>
</li>
<li><p>&#x96C6;&#x7FA4;&#xFF1A; &#x4E00;&#x4E2A;&#x96C6;&#x7FA4;&#x6307;&#x7684;&#x662F;&#x7269;&#x7406;&#x4E3B;&#x673A;&#x7684;&#x96C6;&#x5408;&#xFF0C;&#x5728;&#x8FD9;&#x91CC;&#xFF0C;&#x4E3B;&#x673A;&#x53EF;&#x4EE5;&#x770B;&#x505A;&#x662F;&#x865A;&#x62DF;&#x673A;&#x7684;&#x8D44;&#x6E90;&#x6C60;&#x3002;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x4E3B;&#x673A;&#x5171;&#x4EAB;&#x76F8;&#x540C;&#x7684;&#x7F51;&#x7EDC;&#x548C;&#x5B58;&#x50A8;&#x67B6;&#x6784;&#xFF0C;&#x800C;&#x4E14;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x865A;&#x62DF;&#x673A;&#x53EF;&#x4EE5;&#x5728;&#x5C5E;&#x4E8E;&#x8BE5;&#x96C6;&#x7FA4;&#x7684;&#x4E0D;&#x540C;&#x7684;&#x4E3B;&#x673A;&#x4E4B;&#x95F4;&#x8FC1;&#x79FB;&#x3002;</p>
</li>
<li><p>&#x903B;&#x8F91;&#x7F51;&#x7EDC;&#xFF1A;&#x903B;&#x8F91;&#x7F51;&#x7EDC;&#x662F;&#x7269;&#x7406;&#x7F51;&#x7EDC;&#x5728;&#x903B;&#x8F91;&#x4E0A;&#x7684;&#x8868;&#x793A;&#xFF0C;&#x5B83;&#x628A;&#x7F51;&#x7EDC;&#x8D1F;&#x8F7D;&#x6839;&#x636E;&#x7BA1;&#x7406;&#x6D41;&#x91CF;&#xFF0C;&#x4E3B;&#x673A;&#x6D41;&#x91CF;&#xFF0C;&#x5B58;&#x50A8;&#x6D41;&#x91CF;&#x548C;&#x865A;&#x62DF;&#x673A;&#x7684;&#x6D41;&#x91CF;&#x5206;&#x7EC4;&#xFF0C;&#x4ECE;&#x800C;&#x66F4;&#x597D;&#x7684;&#x5B9E;&#x73B0;&#x7F51;&#x7EDC;&#x7684;&#x7BA1;&#x7406;&#x548C;&#x6D41;&#x91CF;&#x7684;&#x5206;&#x79BB;&#x3002;</p>
</li>
<li><p>&#x4E3B;&#x673A;&#xFF1A;&#x4E3B;&#x673A;&#x5C31;&#x662F;&#x7269;&#x7406;&#x4E0A;&#x7684;&#x670D;&#x52A1;&#x5668;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x5728;&#x4E3B;&#x673A;&#x4E0A;&#x8FD0;&#x884C;&#x3002;&#x4E00;&#x4E2A;&#x4E3B;&#x673A;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x4E00;&#x4E2A;&#x6216;&#x8005;&#x591A;&#x4E2A;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x6B63;&#x5982;&#x4E0A;&#x9762;&#x63D0;&#x5230;&#x7684;&#xFF0C;&#x662F;&#x4E3B;&#x673A;&#x7EC4;&#x6210;&#x4E86;&#x96C6;&#x7FA4;&#x3002;&#x5728;&#x4E00;&#x4E2A;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x865A;&#x62DF;&#x673A;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x4E3B;&#x673A;&#x95F4;&#x8FC1;&#x79FB;&#x3002;</p>
</li>
<li><p>&#x5B58;&#x50A8;&#x6C60;&#xFF1A;&#x5B58;&#x50A8;&#x6C60;&#x662F;&#x4E00;&#x4E2A;&#x903B;&#x8F91;&#x4E0A;&#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x5305;&#x542B;&#x540C;&#x4E00;&#x79CD;&#x5B58;&#x50A8;&#x7C7B;&#x578B;&#x7684;&#x4ED3;&#x5E93;&#xFF0C;&#x6BD4;&#x5982; iSCSI&#xFF0C;Fibre Channel&#xFF0C;NFS&#xFF0C;&#x6216;&#x8005; POSIX&#x3002;&#x6BCF;&#x4E00;&#x79CD;&#x5B58;&#x50A8;&#x6C60;&#x90FD;&#x53EF;&#x4EE5;&#x5305;&#x542B;&#x51E0;&#x4E2A;&#x540C;&#x7C7B;&#x578B;&#x7684;&#x5B58;&#x50A8;&#x57DF;&#xFF0C;&#x7528;&#x6765;&#x5B58;&#x50A8;&#x865A;&#x62DF;&#x673A;&#x955C;&#x50CF;&#xFF0C;ISO &#x6587;&#x4EF6;&#xFF0C;&#x6216;&#x8005;&#x662F;&#x7528;&#x6765;&#x5BFC;&#x5165;/&#x5BFC;&#x51FA;&#x5B58;&#x50A8;&#x57DF;&#x3002;</p>
</li>
<li><p>&#x865A;&#x62DF;&#x673A;&#xFF1A;&#x865A;&#x62DF;&#x673A;&#x5C31;&#x50CF;&#x5B9E;&#x9645;&#x7684;&#x673A;&#x5668;&#x4E00;&#x6837;&#xFF0C;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x786C;&#x4EF6;(CPU&#xFF0C;&#x5185;&#x5B58;&#x7B49;)&#xFF0C;&#x5305;&#x542B;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x548C;&#x4E00;&#x7CFB;&#x5217;&#x5E94;&#x7528;&#x8F6F;&#x4EF6;&#x3002; EayunOS &#x7CFB;&#x7EDF;&#x4E2D;&#x7684;&#x865A;&#x62DF;&#x673A;&#x6709;&#x4E24;&#x79CD;: &#x865A;&#x62DF;&#x684C;&#x9762;&#x548C;&#x865A;&#x62DF;&#x670D;&#x52A1;&#x5668;&#x3002;&#x591A;&#x4E2A;&#x540C;&#x6837;&#x7684;&#x865A;&#x62DF;&#x673A;&#x80FD;&#x540C;&#x65F6;&#x5FEB;&#x901F;&#x7684;&#x5728;&#x4E00;&#x4E2A;&#x6C60;&#x91CC;&#x9762;&#x521B;&#x5EFA;&#x3002;&#x6CE8;&#x610F;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x7684;&#x521B;&#x5EFA;&#xFF0C;&#x7BA1;&#x7406;&#xFF0C;&#x5220;&#x9664;&#x7B49;&#x64CD;&#x4F5C;&#x53EA;&#x80FD;&#x88AB;&#x8D85;&#x7EA7;&#x7528;&#x6237;&#x548C;&#x6388;&#x4E88;&#x76F8;&#x5173;&#x6743;&#x9650;&#x7684;&#x7528;&#x6237;&#x6267;&#x884C;&#x3002;</p>
</li>
<li><p>&#x6A21;&#x677F;&#xFF1A;&#x6A21;&#x677F;&#x662F;&#x4E00;&#x79CD;&#x865A;&#x62DF;&#x673A;&#x6A21;&#x578B;&#xFF0C;&#x8FD9;&#x79CD;&#x6A21;&#x578B;&#x9884;&#x5148;&#x5B9A;&#x4E49;&#x4E86;&#x865A;&#x62DF;&#x673A;&#x7684;&#x5F88;&#x591A;&#x5185;&#x5BB9;&#xFF0C;&#x6BD4;&#x5982;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7B49;&#x3002;&#x901A;&#x8FC7;&#x6A21;&#x677F;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;&#x7B80;&#x5355;&#x7684;&#x4E00;&#x4E2A;&#x64CD;&#x4F5C;&#x4E2D;&#x4EE5;&#x6700;&#x5FEB;&#x7684;&#x65B9;&#x5F0F;&#x521B;&#x5EFA;&#x5927;&#x91CF;&#x7684;&#x865A;&#x62DF;&#x673A;&#x3002;</p>
</li>
<li><p>&#x865A;&#x62DF;&#x673A;&#x6C60;&#xFF1A;&#x865A;&#x62DF;&#x673A;&#x6C60;&#x662F;&#x6307;&#x4E00;&#x7EC4;&#x76F8;&#x540C;&#x7684;&#x865A;&#x62DF;&#x673A;&#x7684;&#x96C6;&#x5408;&#x3002;&#x5BF9;&#x4E00;&#x4E9B;&#x7279;&#x5B9A;&#x7684;&#x76EE;&#x7684;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x6C60;&#x5F88;&#x6709;&#x7528;&#x3002;&#x6BD4;&#x5982;&#x4E0D;&#x540C;&#x90E8;&#x95E8;&#x865A;&#x62DF;&#x673A;&#x4F7F;&#x7528;&#x7684;&#x5212;&#x5206;&#xFF0C;&#x4E00;&#x4E2A;&#x6C60;&#x7ED9;&#x5E02;&#x573A;&#x90E8;&#x95E8;&#x7528;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x6C60;&#x7ED9;&#x7814;&#x53D1;&#x90E8;&#x95E8;&#x7528;&#xFF0C;&#x7B49;&#x7B49;&#x3002;</p>
</li>
<li><p>&#x5FEB;&#x7167;&#xFF1A;&#x5FEB;&#x7167;&#x662F;&#x6307;&#x67D0;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x70B9;&#x865A;&#x62DF;&#x673A;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x7684;&#x6240;&#x6709;&#x5185;&#x5BB9;&#x7684;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#x3002;&#x5FEB;&#x7167;&#x6709;&#x5F88;&#x591A;&#x7528;&#x9014;&#xFF0C;&#x6BD4;&#x5982;&#x5728;&#x5347;&#x7EA7;&#x865A;&#x62DF;&#x673A;&#x6216;&#x8005;&#x4FEE;&#x6539;&#x865A;&#x62DF;&#x673A;&#x5185;&#x5BB9;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x5EFA;&#x7ACB;&#x4E00;&#x4E2A;&#x5FEB;&#x7167;&#xFF0C;&#x5F53;&#x5347;&#x7EA7;&#x5B8C;&#x7CFB;&#x7EDF;&#x51FA;&#x95EE;&#x9898;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x53EF;&#x4EE5;&#x7528;&#x5FEB;&#x7167;&#x6062;&#x590D;&#x5230;&#x4E4B;&#x524D;&#x7684;&#x72B6;&#x6001;&#x3002;</p>
</li>
<li><p>&#x7528;&#x6237;&#x7C7B;&#x578B;&#xFF1A;&#x7CFB;&#x7EDF;&#x652F;&#x6301;&#x4E0D;&#x540C;&#x7EA7;&#x522B;&#x7684;&#x7BA1;&#x7406;&#x5458;&#x548C;&#x7528;&#x6237;&#x6743;&#x9650;&#x3002;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#x7BA1;&#x7406;&#x7269;&#x529B;&#x8D44;&#x6E90;&#xFF0C;&#x6BD4;&#x5982;&#x6570;&#x636E;&#x4E2D;&#x5FC3;&#xFF0C;&#x4E3B;&#x673A;&#xFF0C;&#x5B58;&#x50A8;&#x8D44;&#x6E90;&#x7B49;&#x3002;&#x662F;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#x5EFA;&#x7ACB;&#x7684;&#x865A;&#x62DF;&#x673A;&#x6C60;&#x548C;&#x865A;&#x62DF;&#x673A;&#xFF0C;&#x7528;&#x6237;&#x5177;&#x6709;&#x8BBF;&#x95EE;&#x8FD9;&#x4E9B;&#x865A;&#x62DF;&#x673A;&#x7684;&#x80FD;&#x529B;&#x3002;</p>
</li>
<li><p>&#x4E8B;&#x4EF6;&#x548C;&#x76D1;&#x63A7;&#xFF1A;&#x62A5;&#x8B66;&#xFF0C;&#x8B66;&#x544A;&#x548C;&#x5176;&#x5B83;&#x5173;&#x4E8E;&#x7CFB;&#x7EDF;&#x7684;&#x901A;&#x77E5;&#x53EF;&#x4EE5;&#x5E2E;&#x52A9;&#x7CFB;&#x7EDF;&#x7BA1;&#x7406;&#x5458;&#x66F4;&#x597D;&#x7684;&#x4E86;&#x89E3;&#x6574;&#x4E2A;&#x7CFB;&#x7EDF;&#x7684;&#x6027;&#x80FD;&#x548C;&#x8D44;&#x6E90;&#x7684;&#x72B6;&#x6001;&#x3002;</p>
</li>
<li><p>&#x62A5;&#x8868;&#xFF1A;&#x4ECE;&#x57FA;&#x4E8E; JasperReports &#x7684;&#x62A5;&#x8868;&#x6A21;&#x5757;&#xFF0C;&#x6216;&#x662F;&#x6570;&#x636E;&#x5E93;&#x4EA7;&#x751F;&#x9700;&#x8981;&#x7684;&#x62A5;&#x8868;&#x3002;&#x7528;&#x6237;&#x4E5F;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EFB;&#x4F55;&#x652F;&#x6301; SQL &#x8BED;&#x53E5;&#x7684;&#x67E5;&#x8BE2;&#x5DE5;&#x5177;&#x67E5;&#x8BE2;&#x5305;&#x542B;&#x4E3B;&#x673A;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x548C;&#x5B58;&#x50A8;&#x7B49;&#x7684;&#x76D1;&#x63A7;&#x6570;&#x636E;&#x3002;</p>
</li>
</ul>
<h2 id="&#x4E8C;&#x3001;&#x7CFB;&#x7EDF;&#x8981;&#x6C42;">&#x4E8C;&#x3001;&#x7CFB;&#x7EDF;&#x8981;&#x6C42;</h2>
<table>
<thead>
<tr>
<th>&#x8D44;&#x6E90;</th>
<th>&#x6700;&#x5C0F;&#x8981;&#x6C42;</th>
</tr>
</thead>
<tbody>
<tr>
<td>CPU</td>
<td>2&#x6838;</td>
</tr>
<tr>
<td>Memory</td>
<td>&gt;4GB</td>
</tr>
<tr>
<td>Hard Disk</td>
<td>&gt;25G</td>
</tr>
<tr>
<td>Network Interface</td>
<td>&gt;1&#x5F20; &#xFF0C; &gt;1Gbps</td>
</tr>
</tbody>
</table>
<h2 id="&#x4E09;&#x3001;&#x5B89;&#x88C5;">&#x4E09;&#x3001;&#x5B89;&#x88C5;</h2>
<p><a href="https://www.ovirt.org/documentation/install-guide/chap-Installing_oVirt.html" target="_blank">install ovirt</a></p>
<h5 id="1&#x3001;&#x5B89;&#x88C5;ovirt-engine&#x76F8;&#x5173;&#x8F6F;&#x4EF6;">1&#x3001;&#x5B89;&#x88C5;ovirt-engine&#x76F8;&#x5173;&#x8F6F;&#x4EF6;</h5>
<pre><code>yum -y install http://resources.ovirt.org/pub/yum-repo/ovirt-release43.rpm
yum -y update
yum -y install nfs-utils ovirt-engine
</code></pre><h5 id="2&#x3001;&#x914D;&#x7F6E;ovirt-engine">2&#x3001;&#x914D;&#x7F6E;ovirt-engine</h5>
<pre><code>engine-setup
</code></pre><h5 id="3&#x3001;&#x8FDE;&#x63A5;&#x5230;&#x7BA1;&#x7406;&#x5458;&#x754C;&#x9762;">3&#x3001;&#x8FDE;&#x63A5;&#x5230;&#x7BA1;&#x7406;&#x5458;&#x754C;&#x9762;</h5>
<blockquote>
<p>&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x8F93;&#x5165;&#x5730;&#x5740;&#xFF0C;<a href="https://your-manager-fqdn/ovirt-engine&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x767B;&#x9646;&#x7528;&#x6237;&#x540D;admin&#x3002;" target="_blank">https://your-manager-fqdn/ovirt-engine&#xFF0C;&#x7B2C;&#x4E00;&#x6B21;&#x767B;&#x9646;&#x7528;&#x6237;&#x540D;admin&#x3002;</a></p>
</blockquote>
<pre><code># vim /etc/ovirt-engine/engine.conf.d/99-custom-sso-setup.conf
SSO_ALTERNATE_ENGINE_FQDNS=&quot;alias1.example.com alias2.example.com&quot;

admin@internal
http://myovirt:80/ovirt-engine
https://myovirt:443/ovirt-engine
</code></pre><h5 id="4&#x3001;&#x6DFB;&#x52A0;&#x5B58;&#x50A8;">4&#x3001;&#x6DFB;&#x52A0;&#x5B58;&#x50A8;</h5>
<pre><code>systemctl start rpcbind
systemctl enable rpcbind

mkdir /iso /data /import_export
chown -R vdsm:kvm /iso 
chown -R vdsm:kvm /data
chown -R vdsm:kvm /import_export

&#x5728;exports&#x4E2D;&#x6DFB;&#x52A0;&#x76F8;&#x5173;&#x5185;&#x5BB9;
vim /etc/exports
vim /etc/exports.d/ovirt-engine-iso-domain.exports

/iso            *(rw,sync,no_subtree_check,all_squash,anonuid=36,anongid=36)
/data           *(rw,sync,no_subtree_check,all_squash,anonuid=36,anongid=36)
/import_export  *(rw,sync,no_subtree_check,all_squash,anonuid=36,anongid=36)

systemctl restart rpcbind
systemctl restart nfs

exportfs -r

service ovirt-engine restart
</code></pre><h5 id="5&#x3001;&#x4E0A;&#x4F20;iso&#x955C;&#x50CF;">5&#x3001;&#x4E0A;&#x4F20;iso&#x955C;&#x50CF;</h5>
<pre><code>engine-iso-uploader -i iso upload /root/cirros-0.3.4-x86_64-disk.iso
</code></pre><h5 id="6&#x3001;&#x67E5;&#x770B;ovirt-engine&#x65E5;&#x5FD7;">6&#x3001;&#x67E5;&#x770B;ovirt-engine&#x65E5;&#x5FD7;</h5>
<pre><code>tailf /var/log/ovirt-engine/engine.log
</code></pre><h5 id="7&#x3001;ovirt-node">7&#x3001;ovirt node</h5>
<blockquote>
<p>&#x5B89;&#x88C5;&#x5B8C;oVirt Engine&#x670D;&#x52A1;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x5B89;&#x88C5;&#x8282;&#x70B9;&#x4E3B;&#x673A;&#x6765;&#x8FD0;&#x884C;&#x865A;&#x62DF;&#x673A;&#x4E86;&#x3002;&#x5728;oVirt&#x67B6;&#x6784;&#x4E2D;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; oVirt Node, Fedora &#x6216;&#x8005; CentOS &#x505A;&#x4E3A;&#x8282;&#x70B9;&#x4E3B;&#x673A;&#x7684;&#x64CD;&#x4F5C;&#x7CFB;&#x7EDF;&#x3002;</p>
<p>centos7 node &#x4FEE;&#x6539;hosts&#x6587;&#x4EF6;engine&#x52A0;&#x8FDB;&#x53BB;</p>
</blockquote>
<h5 id="8&#x3001;&#x4F7F;&#x7528;virsh-list">8&#x3001;&#x4F7F;&#x7528;virsh list</h5>
<pre><code>virsh list

vdsm@ovirt
shibboleth

hosted-engine --help
</code></pre><h2 id="&#x56DB;&#x3001;ovirt&#x7F16;&#x8BD1;">&#x56DB;&#x3001;ovirt&#x7F16;&#x8BD1;</h2>
<h4 id="&#xFF08;&#x4E00;&#xFF09;&#x3001;&#x4F7F;&#x7528;rpm&#x65B9;&#x5F0F;&#x7F16;&#x8BD1;">&#xFF08;&#x4E00;&#xFF09;&#x3001;&#x4F7F;&#x7528;rpm&#x65B9;&#x5F0F;&#x7F16;&#x8BD1;</h4>
<pre><code>wget http://resources.ovirt.org/pub/ovirt-4.1/rpm/el7Workstation/SRPMS/ovirt-engine-4.1.4.2-1.el7.centos.src.rpm

//axel -n 4 http://resources.ovirt.org/pub/ovirt-4.1/rpm/el7Workstation/SRPMS/ovirt-engine-4.1.4.2-1.el7.centos.src.rpm

rpm -i ovirt-engine-4.1.4.2-1.el7.centos.src.rpm

vim ~/rpmbuild/SPECS/ovirt-engine.spec

rpm -ql ovirt-engine |grep jar

yum -y install rpm-build

rpmbuild -ba ~/rpmbuild/SPECS/ovirt-engine.spec //&#x6839;&#x636E; spec &#x6587;&#x4EF6;&#x540C;&#x65F6;&#x6784;&#x5EFA;&#x4E8C;&#x8FDB;&#x5236; RPM &#x548C;&#x6E90;&#x4EE3;&#x7801; RPM 

//rpm -U
</code></pre><blockquote>
<p>Building locales requires more than 10240 available file descriptors, currently 1024</p>
</blockquote>
<pre><code>ulimit -n 10240
</code></pre><blockquote>
<p>[ERROR] OutOfMemoryError: Increase heap size or lower gwt.jjs.maxThreads</p>
</blockquote>
<pre><code>cd /root/rpmbuild/SOURCES

tar -zxvf ovirt-engine-4.1.4.2.tar.gz

vim frontend/webadmin/modules/pom.xml

&lt;gwt.jvmArgs&gt;-Xms8g -Xmx8g -XX:MaxDirectMemorySize=4096m&lt;/gwt.jvmArgs&gt;  //Two JVM options are often used to tune JVM heap size: -Xmx for maximum heap size, and -Xms for initial heap size.

&lt;gwt-plugin.extraJvmArgs&gt;
  -Dgwt.jjs.permutationWorkerFactory=com.google.gwt.dev.ThreadedPermutationWorkerFactory \
  -Dgwt.jjs.maxThreads=1 \
  -Djava.io.tmpdir=&quot;${project.build.directory}/tmp&quot; \
  -Djava.util.prefs.systemRoot=&quot;${project.build.directory}/tmp&quot; \
  -Djava.util.prefs.userRoot=&quot;${project.build.directory}/tmp&quot; \
  -Djava.util.logging.config.class=org.ovirt.engine.ui.gwtextension.JavaLoggingConfig \
  ${gwt.jvmArgs}
&lt;/gwt-plugin.extraJvmArgs&gt;

rm -rf ovirt-engine-4.1.4.2.tar.gz

tar -zcvf ovirt-engine-4.1.4.2.tar.gz *

rpmbuild -ba ~/rpmbuild/SPECS/ovirt-engine.spec //&#x91CD;&#x65B0;&#x7F16;&#x8BD1;
</code></pre><h4 id="&#xFF08;&#x4E8C;&#xFF09;&#x3001;&#x642D;&#x5EFA;&#x73AF;&#x5883;&#x5E76;&#x4F7F;&#x7528;build&#x65B9;&#x5F0F;&#x7F16;&#x8BD1;">&#xFF08;&#x4E8C;&#xFF09;&#x3001;&#x642D;&#x5EFA;&#x73AF;&#x5883;&#x5E76;&#x4F7F;&#x7528;build&#x65B9;&#x5F0F;&#x7F16;&#x8BD1;</h4>
<h5 id="&#x4E00;&#x3001;&#x5B89;&#x88C5;&#x6784;&#x5EFA;&#x73AF;&#x5883;">&#x4E00;&#x3001;&#x5B89;&#x88C5;&#x6784;&#x5EFA;&#x73AF;&#x5883;</h5>
<h6 id="1&#x3001;&#x5B89;&#x88C5;snapshot&#x5E93;">1&#x3001;&#x5B89;&#x88C5;snapshot&#x5E93;</h6>
<pre><code>yum -y install http://resources.ovirt.org/pub/yum-repo/ovirt-release42.rpm
</code></pre><h6 id="2&#x3001;&#x5B89;&#x88C5;&#x7F16;&#x8BD1;&#x4F9D;&#x8D56;&#x5305;">2&#x3001;&#x5B89;&#x88C5;&#x7F16;&#x8BD1;&#x4F9D;&#x8D56;&#x5305;</h6>
<pre><code>yum -y install mailcap openssl m2crypto python-psycopg2 python-cheetah python-daemon libxml2-python unzip ovirt-host-deploy ovirt-setup-lib git maven postgresql-server java-1.8.0-openjdk-devel wget python-pip
</code></pre><h6 id="3&#x3001;&#x68C0;&#x67E5;-jdk">3&#x3001;&#x68C0;&#x67E5; JDK</h6>
<p>&#x4F7F;&#x7528;&#x201C;alternatives&#x201D;&#x547D;&#x4EE4;&#x9A8C;&#x8BC1;javac&#x662F;&#x5426;&#x5DF2;&#x7ECF;&#x6307;&#x5411;&#x5DF2;&#x5B89;&#x88C5;&#x7684;Jdk1.8&#x8DEF;&#x5F84;&#x3002;</p>
<pre><code>alternatives --display javac
</code></pre><p>&#x5982;&#x679C;javac&#x6CA1;&#x6709;&#x6307;&#x5411;&#x6B63;&#x786E;&#x7684;&#x76EE;&#x5F55;&#xFF0C;&#x90A3;&#x4E48;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#x3002;</p>
<pre><code>alternatives --set javac /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.141-1.b16.el7_3.x86_64/bin/javac
</code></pre><h6 id="4&#x68C0;&#x67E5;-maven">4.&#x68C0;&#x67E5; maven</h6>
<p>&#x9A8C;&#x8BC1;Maven&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x5DF2;&#x7ECF;&#x8BBE;&#x7F6E;&#x6210;&#x529F;</p>
<pre><code>mvn -version
</code></pre><p>Maven &#x8BBE;&#x7F6E;</p>
<p>&#x8BBE;&#x7F6E; ~/.m2/ directory &#x5E93;&#x3002;</p>
<p>&#x5C06;&#x4E0B;&#x5217;&#x5185;&#x5BB9;&#x62F7;&#x8D1D;&#x5230;&#x914D;&#x7F6E;settings&#x6587;&#x4EF6;&#x4E2D;&#x3002;</p>
<pre><code>cat &gt; ~/.m2/settings.xml &lt;&lt;&quot;EOT&quot;

&lt;settings xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot;
     xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
     xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0
                         http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;&gt;
     &lt;activeProfiles&gt;
          &lt;activeProfile&gt;oVirtEnvSettings&lt;/activeProfile&gt;
     &lt;/activeProfiles&gt;
     &lt;profiles&gt;
          &lt;profile&gt;
               &lt;id&gt;oVirtEnvSettings&lt;/id&gt;
               &lt;properties&gt;                               
                    &lt;jbossHome&gt;${env.JBOSS_HOME}&lt;/jbossHome&gt;
                    &lt;JAVA_HOME&gt;${env.JAVA_HOME}&lt;/JAVA_HOME&gt;
               &lt;/properties&gt;
          &lt;/profile&gt;
      &lt;/profiles&gt;
&lt;/settings&gt;

EOT
</code></pre><p>&#x5907;&#x6CE8;&#xFF1A;</p>
<p>&#x4E00;&#x5B9A;&#x8981;&#x914D;&#x7F6E;&#x4EE5;&#x4E0A;maven&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#xFF0C;&#x5426;&#x5219;&#x5728;&#x540E;&#x7EED;&#x7F16;&#x8BD1;&#x4E2D;&#x4F1A;&#x51FA;&#x9519;&#x3002;&#x8BF7;&#x786E;&#x4FDD;jdk&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x8BBE;&#x7F6E;&#x6B63;&#x786E;&#x3002;</p>
<p>&#x5728;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x4E2D;&#x8BBE;&#x7F6E;&#x4EE5;&#x4E0A;&#x9700;&#x8981;&#x7684;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x65B9;&#x6CD5;&#x4E3A;:&#x5728;&#x7528;&#x6237;&#x7684;&#x5BB6;&#x76EE;&#x5F55;&#x4E2D;&#x5C06;&#x4EE5;&#x4E0B;&#x73AF;&#x5883;&#x53D8;&#x91CF;&#x6DFB;&#x52A0;&#x5230;/etc/profile&#x6587;&#x4EF6;&#x4E2D;&#x3002;</p>
<pre><code>export JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.151-1.b12.el7_4.x86_64/
export JBOSS_HOME=/usr/share/jboss-as
</code></pre><h5 id="&#x4E8C;&#x3001;&#x5B89;&#x88C5;jboss-as">&#x4E8C;&#x3001;&#x5B89;&#x88C5;JBoss AS</h5>
<pre><code>cd /usr/share
wget http://download.jboss.org/jbossas/7.1/jboss-as-7.1.1.Final/jboss-as-7.1.1.Final.tar.gz
tar -zxvf jboss-as-7.1.1.Final.tar.gz --no-same-owner
ln -s /usr/share/jboss-as-7.1.1.Final /usr/share/jboss-as
su - -c &apos;chmod -R 777 /usr/share/jboss-as&apos;
</code></pre><p>&#x6821;&#x9A8C;&#x662F;&#x5426;&#x5B89;&#x88C5;&#x6210;&#x529F;</p>
<pre><code>/usr/share/jboss-as/bin/standalone.sh
</code></pre><p>&#x8BF7;&#x786E;&#x4FDD;&#x5BF9;&#x4E8E;$JBOSS_HOME/standalone/deployments&#x6587;&#x4EF6;&#x5939;&#x6709;&#x5199;&#x6743;&#x9650;&#xFF0C;&#x8BE5;&#x76EE;&#x5F55;&#x662F;ovirt-engine&#x7684;&#x90E8;&#x7F72;&#x76EE;&#x5F55;&#x3002;</p>
<p>TroubleShooting</p>
<h6 id="1&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E9B;&#x6709;&#x7528;&#x7684;javaopts&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x5230;standaloneconf&#x811A;&#x672C;&#x4E2D;&#xFF1A;">1.&#x4E0B;&#x9762;&#x662F;&#x4E00;&#x4E9B;&#x6709;&#x7528;&#x7684;JAVA_OPTS&#x7684;&#x8BBE;&#x7F6E;&#xFF0C;&#x53EF;&#x4EE5;&#x6DFB;&#x52A0;&#x5230;standalone.conf&#x811A;&#x672C;&#x4E2D;&#xFF1A;</h6>
<pre><code>&#xB7; -Xmx512m - maximum Java heap size of 512m

&#xB7; -Xdebug - include debugging
</code></pre><h6 id="2&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x6DFB;&#x52A0;-b-0000&#x7528;&#x4E8E;&#x7ED1;&#x5B9A;&#x6240;&#x6709;&#x7684;ip">2.&#x5728;&#x8FD0;&#x884C;&#x65F6;&#x6DFB;&#x52A0;-b 0.0.0.0&#x7528;&#x4E8E;&#x7ED1;&#x5B9A;&#x6240;&#x6709;&#x7684;IP</h6>
<h6 id="3&#x786E;&#x5B9A;8080&#x6216;&#x8005;8009&#x7AEF;&#x53E3;&#x672A;&#x88AB;&#x5360;&#x7528;&#x3002;&#x5176;&#x4ED6;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x6709;8443808310904457">3.&#x786E;&#x5B9A;8080&#x6216;&#x8005;8009&#x7AEF;&#x53E3;&#x672A;&#x88AB;&#x5360;&#x7528;&#x3002;&#x5176;&#x4ED6;&#x53EF;&#x80FD;&#x9700;&#x8981;&#x7684;&#x7AEF;&#x53E3;&#x53F7;&#x6709;:8443/8083/1090/4457</h6>
<h6 id="4jboss&#x4F1A;&#x7ED1;&#x5B9A;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#xFF0C;&#x786E;&#x8BA4;&#x8BE5;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#x5DF2;&#x7ECF;&#x88AB;&#x6DFB;&#x52A0;&#x5230;etchosts&#x76EE;&#x5F55;&#x4E0B;&#x3002;">4.JBoss&#x4F1A;&#x7ED1;&#x5B9A;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#xFF0C;&#x786E;&#x8BA4;&#x8BE5;&#x4E3B;&#x673A;&#x540D;&#x79F0;&#x5DF2;&#x7ECF;&#x88AB;&#x6DFB;&#x52A0;&#x5230;/etc/hosts&#x76EE;&#x5F55;&#x4E0B;&#x3002;</h6>
<h6 id="5&#x5982;&#x679C;&#x90E8;&#x7F72;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x5E76;&#x4E0D;&#x662F;&#x6700;&#x65B0;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x8BED;&#x53E5;&#x79FB;&#x9664;&#x5DF2;&#x7ECF;&#x5148;&#x90E8;&#x7F72;&#x7684;&#x4EE3;&#x7801;&#x3002;">5.&#x5982;&#x679C;&#x90E8;&#x7F72;&#x540E;&#x7684;&#x6587;&#x4EF6;&#x5E76;&#x4E0D;&#x662F;&#x6700;&#x65B0;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E0B;&#x9762;&#x7684;&#x8BED;&#x53E5;&#x79FB;&#x9664;&#x5DF2;&#x7ECF;&#x5148;&#x90E8;&#x7F72;&#x7684;&#x4EE3;&#x7801;&#x3002;</h6>
<pre><code># &gt; cd $JBOSS_HOME/standalone

# &gt; rm -rf deployments/engine.ear 

# &gt; rm -rf deployments/engine.ear.deployed 

# &gt; rm -rf tmp

# &gt; rm -rf data (should be done only in development environment)    

# &gt; # Change the JBOSS_HOME environment variable to the new location

# &gt; su - -c &apos;chmod -R 777 /usr/share/jboss-as&apos;

# &gt; # Change the Jboss home in ~/.m2/settings.xml file to point to the new location
</code></pre><h5 id="&#x4E09;&#x3001;&#x5B89;&#x88C5;postgresql">&#x4E09;&#x3001;&#x5B89;&#x88C5;PostgreSQL</h5>
<p>&#x521D;&#x59CB;&#x5316;&#x6570;&#x636E;&#x5E93;</p>
<pre><code>service postgresql initdb
chkconfig postgresql on
service postgresql restart
</code></pre><p>&#x4FEE;&#x6539;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;</p>
<pre><code>vim /var/lib/pgsql/data/pg_hba.conf
</code></pre><pre><code>&#x9ED8;&#x8BA4;&#xFF1A;
# TYPE  DATABASE    USER        CIDR-ADDRESS          METHOD
# &quot;local&quot; is for Unix domain socket connections only
local   all         all                               peer
# IPv4 local connections:
host    all         all         127.0.0.1/32          ident
# IPv6 local connections:
host    all         all         ::1/128               ident

&#x505A;&#x5982;&#x4E0B;&#x4FEE;&#x6539;&#xFF1A;&#x3010;ps:&#x5982;&#x679C;&#x540E;&#x671F;&#x6709;&#x95EE;&#x9898;&#xFF0C;&#x53EF;&#x5C06;ident,password,password&#x90FD;&#x4FEE;&#x6539;&#x4E3A;trust&#x3011;
# TYPE  DATABASE    USER        CIDR-ADDRESS          METHOD
# &quot;local&quot; is for Unix domain socket connections only
local   all         all                               ident
# IPv4 local connections:
host    all         all         127.0.0.1/32          password
# IPv6 local connections:
host    all         all         ::1/128               password
</code></pre><p>&#x91CD;&#x542F;&#xFF1A;</p>
<pre><code>service postgresql restart
</code></pre><p>&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;</p>
<pre><code>su - postgres -c &quot;psql -d template1 -c \&quot;create user engine password &apos;engine&apos;;\&quot;&quot;
</code></pre><pre><code># CREATE ROLE

su - postgres -c &quot;psql -d template1 -c \&quot;create database engine owner engine template template0 encoding &apos;UTF8&apos; lc_collate &apos;en_US.UTF-8&apos; lc_ctype &apos;en_US.UTF-8&apos;;\&quot;&quot;

# CREATE DATABASE
</code></pre><h5 id="&#x56DB;&#x3001;&#x7F16;&#x8BD1;ovirt-engine&#x6E90;&#x7801;&#xFF08;&#x5207;&#x6362;&#x81F3;&#x666E;&#x901A;&#x7528;&#x6237;&#x6A21;&#x5F0F;&#xFF09;">&#x56DB;&#x3001;&#x7F16;&#x8BD1;oVirt-engine&#x6E90;&#x7801;&#xFF08;&#x5207;&#x6362;&#x81F3;&#x666E;&#x901A;&#x7528;&#x6237;&#x6A21;&#x5F0F;&#xFF09;</h5>
<ol>
<li><h6 id="&#x83B7;&#x53D6;&#x6E90;&#x7801;">&#x83B7;&#x53D6;&#x6E90;&#x7801;</h6>
</li>
</ol>
<pre><code>git clone git://gerrit.ovirt.org/ovirt-engine
</code></pre><p>&#x7F16;&#x8BD1;&#xFF08;&#x5FC5;&#x987B;&#x5728;ovirt-engine&#x76EE;&#x5F55;&#x4E0B;&#xFF09;</p>
<pre><code>make install-dev PREFIX=&quot;$HOME/ovirt-engine&quot;
</code></pre><h5 id="&#x4E94;&#x3001;setup&#x5B89;&#x88C5;&#xFF08;&#x5207;&#x6362;&#x81F3;&#x666E;&#x901A;&#x7528;&#x6237;&#x6A21;&#x5F0F;">&#x4E94;&#x3001;Setup&#x5B89;&#x88C5;&#xFF08;&#x5207;&#x6362;&#x81F3;&#x666E;&#x901A;&#x7528;&#x6237;&#x6A21;&#x5F0F;</h5>
<pre><code>HOME/ovirt-engine/bin/engine-setup
</code></pre><h5 id="&#x516D;&#x3001;&#x542F;&#x52A8;&#x670D;&#x52A1;&#xFF08;&#x5207;&#x6362;&#x81F3;&#x666E;&#x901A;&#x7528;&#x6237;&#x6A21;&#x5F0F;&#xFF09;">&#x516D;&#x3001;&#x542F;&#x52A8;&#x670D;&#x52A1;&#xFF08;&#x5207;&#x6362;&#x81F3;&#x666E;&#x901A;&#x7528;&#x6237;&#x6A21;&#x5F0F;&#xFF09;</h5>
<pre><code>HOME/ovirt-engine/share/ovirt-engine/services/ovirt-engine/ovirt-engine.py start
</code></pre><h5 id="&#x4E03;&#x3001;&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x540E;">&#x4E03;&#x3001;&#x4FEE;&#x6539;&#x4EE3;&#x7801;&#x540E;</h5>
<p>&#x91CD;&#x65B0;&#x5B89;&#x88C5;&#xFF1A; </p>
<pre><code>make install-dev PREFIX=&quot;$HOME/ovirt-engine&quot;
</code></pre><p>&#x91CD;&#x65B0;&#x7F16;&#x8BD1;&#xFF1A; </p>
<pre><code>make clean install-dev PREFIX=&quot;$HOME/ovirt-engine&quot;
</code></pre><p>&#x91CD;&#x65B0;&#x7F16;&#x8BD1;&#x6307;&#x5B9A;&#x6A21;&#x5757;&#xFF1A; </p>
<pre><code>make clean install-dev PREFIX=$HOME/ovirt-engine \ 
EXTRA_BUILD_FLAGS=&quot;-pl org.ovirt.engine.core:webadmin&quot;
</code></pre><p>GWT&#x8C03;&#x8BD5;&#x6A21;&#x5F0F;&#xFF1A;</p>
<pre><code>make install-dev PREFIX=&quot;$HOME/ovirt-engine&quot; 
make gwt-debug DEBUG_MODULE=&lt;module&gt; 
While &lt;module&gt; is webadmin or userportal-gwtp.
</code></pre><h5 id="&#x4E09;&#x3001;&#x7F16;&#x8BD1;&#x5F00;&#x53D1;">(&#x4E09;)&#x3001;&#x7F16;&#x8BD1;&#x5F00;&#x53D1;</h5>
<h4 id="&#x6DFB;&#x52A0;ovirt42&#x6E90;">&#x6DFB;&#x52A0;ovirt42&#x6E90;</h4>
<pre><code>yum install http://resources.ovirt.org/pub/yum-repo/ovirt-release42.rpm
touch /etc/yum.repos.d/ovirt-snapshots.repo

[ovirt-snapshots]
name=local
baseurl=http://resources.ovirt.org/pub/ovirt-master-snapshot/rpm/el$releasever
enabled=1
gpgcheck=0
priority=10

[ovirt-snapshots-static]
name=local
baseurl=http://resources.ovirt.org/pub/ovirt-master-snapshot-static/rpm/el$releasever
enabled=1
gpgcheck=0
priority=10
</code></pre><h4 id="&#x5B89;&#x88C5;&#x7B2C;&#x4E09;&#x65B9;&#x5305;">&#x5B89;&#x88C5;&#x7B2C;&#x4E09;&#x65B9;&#x5305;</h4>
<pre><code>yum -y install git java-devel maven openssl postgresql-server \
     m2crypto python-psycopg2 python-cheetah python-daemon libxml2-python \
     unzip pyflakes python-pep8 python-docker-py mailcap python-jinja2 \
     python-dateutil bind-utils
</code></pre><h4 id="wildfly-82-for-ovirt-36-development">WildFly 8.2 for oVirt 3.6+ development</h4>
<pre><code>yum -y install ovirt-engine-wildfly ovirt-engine-wildfly-overlay
</code></pre><h4 id="jboss-711-for-backporting-changes-to-ovirt-35">JBoss 7.1.1 for backporting changes to oVirt 3.5</h4>
<pre><code>yum -y install ovirt-engine-jboss-as
</code></pre><h4 id="&#x5B89;&#x88C5;ovirt&#x5305;">&#x5B89;&#x88C5;ovirt&#x5305;</h4>
<pre><code>yum install ovirt-host-deploy ovirt-setup-lib ovirt-js-dependencies
</code></pre><h4 id="make-sure-openjdk-is-the-java-preferred">Make sure openjdk is the java preferred:</h4>
<pre><code>alternatives --config java
alternatives --config javac
</code></pre><h4 id="&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;">&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;</h4>
<pre><code>#postgresql-setup -D /data/psql initdb
postgresql-setup initdb

vim /var/lib/pgsql/data/pg_hba.conf
...
host    all             all             192.168.21.0/24            trust
...

systemctl restart postgresql.service
systemctl enable postgresql.service

su - postgres -c &quot;psql -d template1 -c \&quot;create user engine password &apos;engine&apos;;\&quot;&quot;
su - postgres -c &quot;psql -d template1 -c \&quot;create database engine owner engine template template0 encoding &apos;UTF8&apos; lc_collate &apos;en_US.UTF-8&apos; lc_ctype &apos;en_US.UTF-8&apos;;\&quot;&quot;
</code></pre><h4 id="&#x7F16;&#x8BD1;">&#x7F16;&#x8BD1;</h4>
<pre><code>mkdir -p &quot;$HOME&quot;
cd &quot;$HOME&quot;
git clone git://gerrit.ovirt.org/ovirt-engine

cd ovirt-engine
make install-dev PREFIX=&quot;$HOME/ovirt-engine&quot;

If WildFly 8.2 should be used, then it&apos;s required to manually setup ovirt-engine-wildfly-overlay using following command:

echo &quot;ENGINE_JAVA_MODULEPATH=&quot;/usr/share/ovirt-engine-wildfly-overlay/modules:${ENGINE_JAVA_MODULEPATH}&quot;&quot; \
  &gt; $PREFIX/etc/ovirt-engine/engine.conf.d/20-setup-jboss-overlay.conf
</code></pre><h4 id="&#x8FD0;&#x884C;">&#x8FD0;&#x884C;</h4>
<pre><code>$HOME/ovirt-engine/bin/engine-setup
</code></pre><h4 id="ovirt&#x8FD0;&#x884C;&#x8D77;&#x6765;&#x8FC7;&#x540E;&#xFF0C;&#x5F00;&#x542F;ovirt-engine&#x670D;&#x52A1;">ovirt&#x8FD0;&#x884C;&#x8D77;&#x6765;&#x8FC7;&#x540E;&#xFF0C;&#x5F00;&#x542F;ovirt-engine&#x670D;&#x52A1;</h4>
<pre><code>$HOME/ovirt-engine/share/ovirt-engine/services/ovirt-engine/ovirt-engine.py start
</code></pre><h2 id="&#x4E94;&#x3001;&#x5B9A;&#x5236;&#x5316;&#x56FE;&#x6807;">&#x4E94;&#x3001;&#x5B9A;&#x5236;&#x5316;&#x56FE;&#x6807;</h2>
<h5 id="1&#x3001;ovirttoplogopng">1&#x3001;ovirt_top_logo.png</h5>
<pre><code>/usr/share/ovirt-engine/branding/ovirt.brand/images/ovirt_top_logo.png
</code></pre><h5 id="2&#x3001;usrshareovirt-enginebrandingovirtbrandwelcomepagetemplate">2&#x3001;/usr/share/ovirt-engine/branding/ovirt.brand/welcome_page.template</h5>
<pre><code>&lt;script&gt;
    //document.location = &quot;webadmin/?locale={userLocale}&quot;;
    document.location = &quot;webadmin/?locale=zh_CN&quot;;
&lt;/script&gt;
</code></pre><h5 id="3&#x3001;vim-backendmanagermoduleswelcomesrcmainwebappweb-infovirt-enginejsp">3&#x3001;vim backend/manager/modules/welcome/src/main/webapp/WEB-INF/ovirt-engine.jsp</h5>
<pre><code>&lt;html class=&quot;obrand_background&quot; style=&quot;display:none&quot;&gt;

//document.write(&apos;&lt;span class=&quot;version-text&quot;&gt;&lt;fmt:message key=&quot;obrand.welcome.version&quot;&gt;&lt;fmt:param value=&quot;${requestScope[\&apos;version\&apos;]}&quot; /&gt; &lt;/fmt:message&gt;&lt;/span&gt;&apos;)
</code></pre><h5 id="4&#x3001;commoncss">4&#x3001;common.css</h5>
<pre><code>.obrand_loginPageLogoImage {
    /background-image: url(images/ovirt_top_right_logo.png);/
</code></pre><p>.obrand_loginPageLogoImage {
    /<em>background-image: url(images/ovirt_top_right_logo.png);</em>/</p>
<h5 id="5&#x3001;brandingovirtbrandexternalresourcesproperties">5&#x3001;branding/ovirt.brand/external_resources.properties</h5>
<pre><code>//&#x6CE8;&#x91CA;&#x6240;&#x6709;
</code></pre><h5 id="6&#x3001;vim-messageszhcnproperties">6&#x3001;vim messages_zh_CN.properties</h5>
<pre><code>oVirt -&gt; tmpCloud
</code></pre><h2 id="&#x516D;&#x3001;add-license">&#x516D;&#x3001;add license</h2>
<blockquote>
<p> &#x672C;&#x5730;&#x5F00;&#x53D1;&#x73AF;&#x5883;&#x6253;&#x5305;&#xFF0C;&#x6253;&#x5305;&#x7ED3;&#x679C;&#x5982;enginesso.war&#x6587;&#x4EF6;&#x5939;&#xFF0C;&#x5C06;&#x76EE;&#x5F55;&#x4E0B;&#x6240;&#x6709;&#x6587;&#x4EF6;&#x62F7;&#x8D1D;&#x81F3;&#x670D;&#x52A1;&#x5668;engine&#x90E8;&#x7F72;&#x76EE;&#x5F55;&#xFF0C;&#x4F8B;&#x5982;/usr/share/ovirt-engine/engine.ear/enginesso.war/&#xFF0C;&#x7136;&#x540E;&#x91CD;&#x542F;&#x670D;&#x52A1;&#x5373;&#x53EF; </p>
</blockquote>
<pre><code>org.ovirt.engine.core.sso.servlets.InteractiveAuthServlet

/**
             * &#x6CE8;&#x518C;&#x7801;&#x9A8C;&#x8BC1;&#x5F00;&#x59CB;
             */
            boolean checkRes = true;
            try {
                String filepath = &quot;/etc/ovirt-engine/license&quot;;
                File file = new File(filepath);
                if(!file.exists()){
                    response.sendRedirect(request.getContextPath() + &quot;/fileNotException.html&quot;);
                    return;
                }
                BufferedReader reader = new BufferedReader(new InputStreamReader(new FileInputStream(filepath)));
                String firstLine = reader.readLine();

                String reg = firstLine.substring(0,36);
                String mac2 = firstLine.substring(36);

                String mac = getStr1(reg) + mac2;
                String regCode = getStr2(reg);

                if(!(regCode.contains(&quot;base&quot;) | regCode.contains(&quot;super&quot;))){
                    log.error(&quot;error user&quot;);
                    response.sendRedirect(request.getContextPath() + &quot;/roleException.html&quot;);
                    return;
                }else {
                    Long timeString = Long.valueOf(regCode.substring(0,10));
                    Long nowtime = System.currentTimeMillis()/1000;
                    if(nowtime&gt;timeString){
                        log.error(&quot;error time&quot;);
                        response.sendRedirect(request.getContextPath() + &quot;/timeException.html&quot;);
                        return;
                    }
                }
                if(regCode.contains(&quot;base&quot;)){
                    String machineCodePath = &quot;/etc/ovirt-engine/product_uuid&quot;;
                    reader = new BufferedReader(new InputStreamReader(new FileInputStream(machineCodePath)));
                    String machineCode = reader.readLine().replace(&quot;/&quot;,&quot;&quot;);

                    String publicKey = RSAUtils.loadKeyByFile(&quot;/etc/ovirt-engine/license_public_key.pem&quot;);

                    checkRes = RSAUtils.verify(BaseEncoding.base64().decode(publicKey), machineCode.getBytes(), BaseEncoding.base64().decode(mac));
                    if (checkRes == false){
                        response.sendRedirect(request.getContextPath() + &quot;/systemStand.html&quot;);
                        return;
                    }
                }
                reader.close();
            } catch (Exception e) {
                log.error(e.getMessage());
                log.error(&quot;-------------&#x89E3;&#x6790;license&#x4FE1;&#x606F;&#x53D1;&#x751F;&#x5F02;&#x5E38;--------------&quot;);
                response.sendRedirect(request.getContextPath() + &quot;/fileException.html&quot;);
                return;
            }
</code></pre><h2 id="&#x4E03;&#x3001;hosted-engine">&#x4E03;&#x3001;hosted-engine</h2>
<p><a href="https://www.ovirt.org/develop/release-management/features/integration/heapplianceflow/" target="_blank">https://www.ovirt.org/develop/release-management/features/integration/heapplianceflow/</a></p>
<p><a href="https://www.ovirt.org/blog/2016/07/Manage-Your-Hosted-Engine-Hosts-Deployment/" target="_blank">https://www.ovirt.org/blog/2016/07/Manage-Your-Hosted-Engine-Hosts-Deployment/</a></p>
<h5 id="1&#x3001;&#x5B89;&#x88C5;&#x90E8;&#x7F72;hosted-engine">1&#x3001;&#x5B89;&#x88C5;&#x90E8;&#x7F72;hosted-engine</h5>
<pre><code>yum -y install http://resources.ovirt.org/pub/yum-repo/ovirt-release41.rpm

==== nfs&#x642D;&#x5EFA; ====

systemctl restart nfs

mkdir /data
chown -R vdsm:kvm /data

echo &quot;/data *(rw,sync,no_subtree_check,all_squash,anonuid=36,anongid=36)&quot;|tee &gt; /etc/exports

exportfs -r 

showmount -e

yum install ovirt-hosted-engine-setup

hosted-engine --deploy
</code></pre><h5 id="2&#x3001;&#x5728;&#x9875;&#x9762;&#x6DFB;&#x52A0;&#x989D;&#x5916;&#x7684;host&#xFF08;&#x4E3B;&#x673A;&#xFF09;">2&#x3001;&#x5728;&#x9875;&#x9762;&#x6DFB;&#x52A0;&#x989D;&#x5916;&#x7684;host&#xFF08;&#x4E3B;&#x673A;&#xFF09;</h5>
<pre><code>&#x5148;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A;&#x5B58;&#x50A8;&#x57DF;

&#x4E3B;&#x673A; &#x2192; &#x65B0;&#x5EFA; &#x2192; &#x627F;&#x8F7D;&#x7684;&#x5F15;&#x64CE; &#x2192; &#x9009;&#x62E9;&#x627F;&#x8F7D;&#x5F15;&#x64CE;&#x90E8;&#x7F72;&#x64CD;&#x4F5C; &#x2192; &#x90E8;&#x7F72;
</code></pre><h2 id="&#x516B;&#x3001;&#x7528;&#x6237;&#x7BA1;&#x7406;">&#x516B;&#x3001;&#x7528;&#x6237;&#x7BA1;&#x7406;</h2>
<blockquote>
<p>ovirt&#x5B58;&#x5728;&#x4E24;&#x79CD;&#x7528;&#x6237;&#x57DF;&#xFF1A;&#x672C;&#x5730;&#x57DF;&#x548C;&#x5916;&#x90E8;&#x57DF;&#x3002;&#x5E73;&#x53F0;&#x5B89;&#x88C5;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x201C;internal domain&#x201D;&#x9ED8;&#x8BA4;&#x672C;&#x5730;&#x57DF;&#x548C;&#x9ED8;&#x8BA4;&#x7528;&#x6237;admin&#x3002;&#x5728;&#x672C;&#x5730;&#x57DF;&#x521B;&#x5EFA;&#x7684;&#x7528;&#x6237;&#x4E3A;&#x672C;&#x5730;&#x7528;&#x6237;&#xFF0C;&#x5728;&#x5916;&#x90E8;&#x57DF;&#x521B;&#x5EFA;&#x7684;&#x4E3A;&#x76EE;&#x5F55;&#x7528;&#x6237;
&#x53EF;&#x4EE5;&#x901A;&#x8FC7;ovirt-aaa-jdbc-tool&#x6765;&#x521B;&#x5EFA;&#x548C;&#x7BA1;&#x7406;&#x672C;&#x5730;&#x7528;&#x6237;&#xFF08;aaa&#x662F;Authentication, Authorization and Accounting&#x7684;&#x7F29;&#x5199;&#xFF09;</p>
</blockquote>
<h5 id="1&#x3001;&#x5916;&#x90E8;&#x57DF;">1&#x3001;&#x5916;&#x90E8;&#x57DF;</h5>
<p>1&#x3001;&#x642D;&#x5EFA;Active Directory&#x548C;DNS </p>
<p>2&#x3001;Active Directory &#x7528;&#x6237;&#x548C;&#x8BA1;&#x7B97;&#x673A; &#x2192; ad.com &#x2192; Users &#x2192; &#x53F3;&#x952E;&#xFF08;&#x65B0;&#x5EFA;&#xFF09; &#x2192; &#x7528;&#x6237; </p>
<blockquote>
<p>&#x6CE8;&#x610F;&#xFF1A; 1&#x3001;&#x975E;&#x7BA1;&#x7406;&#x8D26;&#x6237; 2&#x3001;&#x65F6;&#x949F;&#x540C;&#x6B65;</p>
</blockquote>
<p>ovirt&#x53EF;&#x4EE5;&#x8FDE;&#x63A5;&#x5916;&#x90E8;&#x76EE;&#x5F55;&#x670D;&#x52A1;&#x5668;&#x6DFB;&#x52A0;&#x5916;&#x90E8;&#x57DF;&#xFF0C; &#x652F;&#x6301;&#x7684;&#x76EE;&#x5F55;&#x670D;&#x52A1;&#x5668;&#x5305;&#x62EC;&#xFF1A;</p>
<ul>
<li>389ds</li>
<li>389ds RFC-2307 Schema</li>
<li>Active Directory</li>
<li>FreeIPA</li>
<li>Red Hat Identity Management (IdM)</li>
<li>Novell eDirectory RFC-2307 Schema</li>
<li>OpenLDAP RFC-2307 Schema</li>
<li>OpenLDAP Standard Schema</li>
<li>Oracle Unified Directory RFC-2307 Schema</li>
<li>RFC-2307 Schema (Generic)</li>
<li>Red Hat Directory Server (RHDS)</li>
<li>Red Hat Directory Server (RHDS) RFC-2307 Schema</li>
<li>iPlanet</li>
</ul>
<blockquote>
<p> ovirt&#x4F7F;&#x7528;&#x63D2;&#x4EF6;ovirt-engine-extension-aaa-ldap&#x6765;&#x914D;&#x7F6E;&#x5916;&#x90E8;&#x57DF;&#x3002;
&#x53C2;&#x8003;<a href="https://superlc320.gitbooks.io/samba-ldap-centos7/ldap_+_centos_7.html" target="_blank">https://superlc320.gitbooks.io/samba-ldap-centos7/ldap_+_centos_7.html</a> &#x914D;&#x7F6E;OpenLDAP&#x670D;&#x52A1;&#x3002;
&#x8FD0;&#x884C;</p>
</blockquote>
<pre><code>ovirt-engine-extension-aaa-ldap-setup
</code></pre><p>&#x5F00;&#x542F;&#x914D;&#x7F6E;&#x5411;&#x5BFC;</p>
<blockquote>
<p>&#x53C2;&#x8003; &lt;<a href="https://gi" target="_blank">https://gi</a> thub.com/oVirt/ovirt-engine-extension-aaa-ldap&gt; 
&#x5C06;/ad/. (Active Directory) &#x6216;&#x8005; examples/simple/. &#x4E0B;&#x7684;&#x6587;&#x4EF6;&#x590D;&#x5236;&#x5230; /etc/ovirt-engine &#x5E76;&#x66F4;&#x6539;&#x6587;&#x4EF6;&#x540D;&#x548C;&#x914D;&#x7F6E;&#x4E2D;&#x7684;vars.* (&#x7528;&#x6237;&#x540D;&#x53CA;&#x5BC6;&#x7801;&#x7B49;)
&#x767B;&#x5F55;&#x6D4B;&#x8BD5;</p>
</blockquote>
<pre><code># ovirt-engine-extensions-tool aaa login-user \
        --profile=@PROFILE@ --user-name=@USER@

   Replace:
    - @PROFILE@ with authn ovirt.engine.aaa.authn.profile.name.
    - @USER@ with user you want to test.
</code></pre><h5 id="2&#x3001;&#x672C;&#x5730;&#x57DF;">2&#x3001;&#x672C;&#x5730;&#x57DF;</h5>
<blockquote>
<p>ovirt&#x4F7F;&#x7528;&#x63D2;&#x4EF6;ovirt-engine-extension-aaa-jdbc&#x6765;&#x6DFB;&#x52A0;&#x548C;&#x914D;&#x7F6E;&#x672C;&#x5730;&#x57DF;&#x3002;&#x5F53;&#x81EA;&#x5DF1;&#x6DFB;&#x52A0;aaa-jdbc&#x6587;&#x4EF6;&#x65F6;&#x9700;&#x8981;&#x914D;&#x7F6E;postgresql&#x4F5C;&#x4E3A;aaa-jdbc&#x63D2;&#x4EF6;&#x7684;&#x6570;&#x636E;&#x5E93;&#x3002;
&#x53C2;&#x8003; <a href="https://github.com/oVirt/ovirt-engine-extension-aaa-jdbc" target="_blank">https://github.com/oVirt/ovirt-engine-extension-aaa-jdbc</a> </p>
</blockquote>
<pre><code>1.    su - postgres -c &quot;psql -d template1 &lt;&lt; __EOF__
    create user DB_USER password &apos;DB_PASSWORD&apos;;
    create database DB_NAME owner DB_USER template template0
        encoding &apos;UTF8&apos; lc_collate &apos;en_US.UTF-8&apos; lc_ctype &apos;en_US.UTF-8&apos;;
   __EOF__
   &quot;
2.   vi /var/lib/pgsql/data/pg_hba.conf (please
   replace DB_NAME and DB_USER with real values):&#x6DFB;&#x52A0;

     host    DB_NAME    DB_USER    0.0.0.0/0       md5
     host    DB_NAME    DB_USER    ::0/0           md5

   These line must be located prior to following lines:

     host    all        all        127.0.0.1/32    ident
     host    all        all        ::1/128         ident
&#x91CD;&#x542F;postgresql

3. PGPASSWORD=&quot;DB_PASSWORD&quot; \
       /usr/share/ovirt-engine-extension-aaa-jdbc/dbscripts/schema.sh \
       -s DB_HOST \
       -p DB_PORT \
       -d DB_NAME \
       -u DB_USER \
       -c apply

4. Setup AAA profile
   cp /usr/share/ovirt-engine-extension-aaa-jdbc/examples/extension.d/authn.properties        /etc/ovirt-engine/extensions.d/PROFILE-authn.properties
  cp /usr/share/ovirt-engine-extension-aaa-jdbc/examples/extension.d/authz.properties        /etc/ovirt-engine/extensions.d/PROFILE-authz.properties
  cp /usr/share/ovirt-engine-extension-aaa-jdbc/examples/aaa/profile.properties        /etc/ovirt-engine/aaa/PROFILE.properties
&#x5E76;&#x7F16;&#x8F91;&#x8FD9;&#x4E09;&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x4E2D;&#x7684;&#x53D8;&#x91CF;
&#x91CD;&#x542F;ovirt-engine

5. &#x6DFB;&#x52A0;&#x548C;&#x7BA1;&#x7406;&#x7528;&#x6237;
ovirt-aaa-jdbc-tool --db-config=/etc/ovirt-engine/aaa/PROFILE.properties
</code></pre><p>ovirt &#x901A;&#x8FC7;ovirt-aaa-jdbc-tool&#x521B;&#x5EFA;&#x548C;&#x7BA1;&#x7406;&#x672C;&#x5730;&#x7528;&#x6237;/&#x7EC4;</p>
<p><a href="https://access.redhat.com/documentation/zh-cn/red_hat_virtualization/4.1/html/administration_guide/sect-administering_user_tasks_from_the_commandline" target="_blank">https://access.redhat.com/documentation/zh-cn/red_hat_virtualization/4.1/html/administration_guide/sect-administering_user_tasks_from_the_commandline</a></p>
<pre><code>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7528;&#x6237;&#x8D26;&#x6237; ovirt-aaa-jdbc-tool user add test1 &#x2013;attribute=firstName=John &#x2013;attribute=lastName=Doe

&#x8BBE;&#x7F6E;&#x5BC6;&#x7801; ovirt-aaa-jdbc-tool user password-reset test1 &#x2013;password-valid-to=&#x201C;2025-08-01 12:00:00-0800&#x201D;

&#x67E5;&#x770B;&#x7528;&#x6237;&#x4FE1;&#x606F; ovirt-aaa-jdbc-tool user show test1

&#x7F16;&#x8F91;&#x7528;&#x6237;&#x4FE1;&#x606F; ovirt-aaa-jdbc-tool user edit test1 &#x2013;attribute=email=jdoe@example.com

&#x5220;&#x9664;&#x7528;&#x6237; ovirt-aaa-jdbc-tool user delete test1

&#x4E3A;&#x5185;&#x90E8;&#x7BA1;&#x7406;&#x5458;&#x7528;&#x6237;&#x91CD;&#x8BBE;&#x5BC6;&#x7801; ovirt-aaa-jdbc-tool user password-reset admin &#x2013;password-valid-to=&#x201C;2025-08-01 12:00:00Z&#x201D;

&#x7981;&#x7528;&#x5185;&#x90E8;&#x7BA1;&#x7406;&#x5458;&#x7528;&#x6237;,&#x7981;&#x7528;&#x9ED8;&#x8BA4;&#x7684; admin &#x7528;&#x6237; ovirt-aaa-jdbc-tool user edit admin &#x2013;flag=+disabled

&#x8981;&#x542F;&#x7528;&#x4E00;&#x4E2A;&#x5DF2;&#x7981;&#x7528;&#x7684;&#x7528;&#x6237;&#xFF0C;&#x8FD0;&#x884C; ovirt-aaa-jdbc-tool user edit username &#x2013;flag=-disabled

&#x7BA1;&#x7406;&#x7EC4;&#xFF1A; &#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7EC4; ovirt-aaa-jdbc-tool group add group1

&#x4E3A;&#x7EC4;&#x6DFB;&#x52A0;&#x7528;&#x6237;&#x3002;&#x8FD9;&#x4E9B;&#x7528;&#x6237;&#x9700;&#x8981;&#x5DF2;&#x5B58;&#x5728;&#x3002; ovirt-aaa-jdbc-tool group-manage useradd group1 &#x2013;user=test1

&#x67E5;&#x770B;&#x7EC4;&#x8D26;&#x6237;&#x8BE6;&#x60C5; ovirt-aaa-jdbc-tool group show group1

&#x5217;&#x51FA;&#x6240;&#x6709;&#x7528;&#x6237;&#x6216;&#x7EC4;&#x8D26;&#x6237;&#x7684;&#x4FE1;&#x606F; ovirt-aaa-jdbc-tool query &#x2013;what=user ovirt-aaa-jdbc-tool query &#x2013;what=group

&#x5217;&#x51FA;&#x540D;&#x5B57;&#x4EE5;&#x5B57;&#x6BCD; j &#x5F00;&#x5934;&#x7684;&#x7528;&#x6237;&#x8D26;&#x6237;&#x4FE1;&#x606F; ovirt-aaa-jdbc-tool query &#x2013;what=user &#x2013;pattern=&#x201C;name=j*&#x201D;

&#x5217;&#x51FA;&#x90E8;&#x95E8;&#x5C5E;&#x6027;&#x88AB;&#x8BBE;&#x7F6E;&#x4E3A; marketing &#x7684;&#x7EC4;&#x7684;&#x4FE1;&#x606F; ovirt-aaa-jdbc-tool query &#x2013;what=group &#x2013;pattern=&#x201C;department=marketing&#x201D;

&#x8FD0;&#x884C;&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x663E;&#x793A;&#x6240;&#x6709;&#x8BBE;&#x7F6E; ovirt-aaa-jdbc-tool setting show

&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x628A;&#x6240;&#x6709;&#x7528;&#x6237;&#x8D26;&#x6237;&#x7684;&#x9ED8;&#x8BA4;&#x767B;&#x5F55;&#x4F1A;&#x8BDD;&#x65F6;&#x95F4;&#x6539;&#x4E3A; 60 &#x5206;&#x949F;&#x3002;&#x5B83;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x65F6; 10080 &#x5206;&#x949F; ovirt-aaa-jdbc-tool setting set &#x2013;name=MAX_LOGIN_MINUTES &#x2013;value=60

&#x4EE5;&#x4E0B;&#x547D;&#x4EE4;&#x66F4;&#x65B0;&#x4E86;&#x628A;&#x7528;&#x6237;&#x8D26;&#x6237;&#x88AB;&#x9501;&#x5B9A;&#x524D;&#x53EF;&#x4EE5;&#x8FDB;&#x884C;&#x767B;&#x5F55;&#x64CD;&#x4F5C;&#x7684;&#x5931;&#x8D25;&#x6B21;&#x6570;&#x3002;&#x5B83;&#x7684;&#x9ED8;&#x8BA4;&#x503C;&#x662F; 5 ovirt-aaa-jdbc-tool setting set &#x2013;name=MAX_FAILURES_SINCE_SUCCESS &#x2013;value=3
</code></pre><h2 id="&#x4E5D;&#x3001;&#x914D;&#x7F6E;cinder">&#x4E5D;&#x3001;&#x914D;&#x7F6E;cinder</h2>
<h5 id="1&#x914D;&#x7F6E;cinder-provider">1.&#x914D;&#x7F6E;cinder provider</h5>
<p>&#x767B;&#x5F55;ovirt&#x7BA1;&#x7406;&#x754C;&#x9762;&#xFF0C;&#x70B9;&#x51FB;Administration&#x2192;providers&#xFF0C;&#x70B9;&#x51FB;&#x53F3;&#x4E0A;&#x89D2;&#x7684;&#x6DFB;&#x52A0;&#x6309;&#x94AE;&#xFF0C;&#x9009;&#x62E9;&#x6DFB;&#x52A0;&#x65B0;&#x7684;provider&#x3002; &#x5728;&#x540D;&#x79F0;&#x680F;&#x586B;&#x5165;ovirt-cinder(&#x53EF;&#x4FEE;&#x6539;), 
&#x7C7B;&#x578B;&#x9009;&#x62E9;&#xFF1A;Openstack Block Storage&#xFF0C; 
&#x4F9B;&#x5E94;&#x5546;URL&#x586B;&#x5199;&#xFF1A;<a href="http://http//192.168.21.100:8776" target="_blank">http://http://192.168.21.100:8776</a> (&#x6B64;&#x5904;&#x4E3A;openstack cinder api&#x670D;&#x52A1;IP&#x5730;&#x5740;)&#x3002; 
&#x7528;&#x6237;&#x540D;:cinder&#xFF0C; 
&#x5BC6;&#x7801;&#xFF1A;xxxxxxxx, &#x6B64;&#x5904;&#x4E3A;cinder&#x7528;&#x6237;&#x7684;&#x5BC6;&#x7801;&#xFF0C;&#x6B64;&#x5BC6;&#x7801;&#x4ECE;/etc/kolla/passwords.yml &#x6587;&#x4EF6;&#x4E2D;&#x7684;cinder_keystone_password &#x83B7;&#x53D6;&#x3002; 
&#x79DF;&#x6237;&#x540D;&#xFF1A;service , 
&#x9A8C;&#x8BC1;&#x540D;&#xFF1A; <a href="http://192.168.21.100:5000/v2.0" target="_blank">http://192.168.21.100:5000/v2.0</a> &#xFF0C;&#x6B64;&#x5904;&#x4E3A;openstackkeystone&#x670D;&#x52A1;&#x7684;&#x8BA4;&#x8BC1;URL&#x3002; 
&#x7F16;&#x8F91;&#x5B8C;&#x6210;&#x4EE5;&#x540E;&#x70B9;&#x51FB;&#x6D4B;&#x8BD5;&#xFF0C;&#x5F53;&#x754C;&#x9762;&#x5F39;&#x51FA;&#x6D4B;&#x8BD5;&#x6210;&#x529F;&#xFF0C;&#x8BBF;&#x95EE;&#x4E86;&#x4F9B;&#x5E94;&#x5546;&#x3002;&#x5219;&#x8868;&#x793A;&#x914D;&#x7F6E;&#x6210;&#x529F;&#x3002; </p>
<p>2.&#x914D;&#x7F6E;&#x9A8C;&#x8BC1;&#x5BC6;&#x94A5; &#x914D;&#x7F6E;&#x5B8C;&#x6210;provider&#x5E38;&#x89C4;&#x914D;&#x7F6E;&#x4EE5;&#x540E;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x914D;&#x7F6E;provider&#x7684;&#x9A8C;&#x8BC1;&#x5BC6;&#x94A5;&#x3002; &#x70B9;&#x51FB;&#x5F53;&#x524D;&#x754C;&#x9762;&#x7684;&#x9A8C;&#x8BC1;&#x5BC6;&#x94A5;&#x9009;&#x9879;&#x7684;&#x53F3;&#x4E0A;&#x89D2;&#x65B0;&#x5EFA;&#x6309;&#x94AE;&#x3002; &#x5728;&#x5F39;&#x51FA;&#x7684;&#x89C4;&#x5212;&#x6846;&#x754C;&#x9762;&#xFF0C;UUID &#x586B;&#x5165;cinder&#x7684;UUID&#x3002;&#x6B64;UUID&#x4ECE;openstack&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x7684;cinder.conf&#x83B7;&#x53D6;&#x3002; </p>
<p>rbd_user = cinder 
rbd_secret_uuid = UUID 
3.&#x503C;&#xFF1A;&#x586B;&#x5165;&#x6B64;UUID&#x5BF9;&#x5E94;&#x7684;&#x503C;&#x3002;&#x6B64;&#x503C;&#x4ECE;ceph&#x83B7;&#x53D6;&#x3002;&#x83B7;&#x53D6;&#x65B9;&#x6CD5;&#xFF1A;
ceph auth get client.cinder 
[client.cinder] </p>
<pre><code>      key = AQAZjXBZclIhAhAAH41aSF0GjlXEA4LBHYTEOg==
</code></pre><p>&#x6B64;&#x5904;&#x7684;key &#x5C31;&#x662F;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7684;&#x503C;&#x3002;
&#x586B;&#x5199;&#x5B8C;&#x6210;&#x4EE5;&#x540E;&#x70B9;&#x51FB;&#x786E;&#x5B9A;&#x6309;&#x94AE;&#x3002; 
&#x4EE5;&#x4E0A;&#x5C31;&#x662F;cinder provider&#x7684;&#x914D;&#x7F6E;&#x65B9;&#x6CD5;&#x3002;</p>
<p>FAQ:rbd&#x65E0;&#x6CD5;map(rbd feature disable) &#x53C2;&#x8003;&#x89E3;&#x51B3;&#x65B9;&#x6CD5;&#xFF1A;<a href="http://www.zphj1987.com/2016/06/07/rbd&#x65E0;&#x6CD5;map-rbd-feature-disable/" target="_blank">http://www.zphj1987.com/2016/06/07/rbd%E6%97%A0%E6%B3%95map-rbd-feature-disable/</a></p>
<h2 id="&#x5341;&#x3001;backup--restore">&#x5341;&#x3001;backup &amp;&amp; restore</h2>
<h3 id="environment">environment</h3>
<p>ovirt version: 4.2.2 </p>
<p>&#x5728;&#x4E92;&#x8054;&#x7F51;&#x7CFB;&#x7EDF;&#x4E2D;&#xFF0C;&#x7531;&#x4E8E;&#x6570;&#x636E;&#x91CF;&#x5F88;&#x5927;&#xFF0C;&#x6570;&#x636E;&#x5BF9;&#x4F01;&#x4E1A;&#x6765;&#x8BF4;&#x5C31;&#x662F;&#x4F01;&#x4E1A;&#x7684;&#x751F;&#x547D;&#xFF0C;&#x56E0;&#x6B64;&#x6570;&#x636E;&#x7684;&#x5B89;&#x5168;&#x6027;&#x5C31;&#x662F;&#x4F01;&#x4E1A;&#x9996;&#x5148;&#x8981;&#x8003;&#x8651;&#x7684;&#xFF0C;&#x89E3;&#x51B3;&#x6570;&#x636E;&#x5B89;&#x5168;&#x6027;&#x7684;&#x9996;&#x8981;&#x63AA;&#x65BD;&#x5C31;&#x662F;&#x5BF9;&#x6570;&#x636E;&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#xFF0C;&#x5BF9;&#x4E8E;ovirt engine&#x6765;&#x8BF4;&#x53EF;&#x4EE5;&#x5BF9;ovirt&#x6574;&#x4E2A;&#x670D;&#x52A1;&#x5668;&#x91C7;&#x53D6;&#x5907;&#x4EFD;&#xFF0C;&#x6B64;&#x79CD;&#x5907;&#x4EFD;&#x65B9;&#x5F0F;&#x5B89;&#x5168;&#x6027;&#x6700;&#x9AD8;&#xFF0C;&#x4F46;&#x662F;&#x8017;&#x8D39;&#x7684;&#x8D44;&#x6E90;&#x4E5F;&#x6BD4;&#x8F83;&#x5927;&#x3002;&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x89E3;&#x51B3;&#x65B9;&#x5F0F;&#x5C31;&#x662F;&#x5BF9;ovirt&#x5173;&#x952E;&#x7684;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#xFF0C;&#x6BD4;&#x5982;ovirt&#x6570;&#x636E;&#x5E93;&#x548C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7B49;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x5C31;&#x4ECB;&#x7ECD;ovirt&#x5BF9;&#x5173;&#x952E;&#x6570;&#x636E;&#x548C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8FDB;&#x884C;&#x5907;&#x4EFD;&#x3002;</p>
<h3 id="backup">Backup</h3>
<p>ovirt &#x63D0;&#x4F9B;&#x4E13;&#x95E8;&#x7684;&#x5907;&#x4EFD;&#x547D;&#x4EE4;engine-backup &#x4F9B;&#x7BA1;&#x7406;&#x5458;&#x4F7F;&#x7528;&#xFF0C;&#x5177;&#x4F53;&#x7684;&#x53C2;&#x6570;&#x4FE1;&#x606F;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x5982;&#x4E0B;&#x547D;&#x4EE4;&#x67E5;&#x770B;&#xFF1A; engine-backup &#x2013;help &#x5907;&#x4EFD;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A;</p>
<pre><code> engine-backup --mode=backup --file=backup1 --log=backup1.log
</code></pre><p>#mode:&#x8868;&#x793A;&#x4F7F;&#x7528;&#x7684;&#x6A21;&#x5F0F;&#xFF0C;&#x8FD9;&#x91CC;&#x6709;&#x4E24;&#x4E2A;&#x53C2;&#x6570;&#x9009;&#x62E9;&#xFF1A;backup&#xFF08;&#x5907;&#x4EFD;&#xFF09;&#xFF0C;restore&#xFF08;&#x8FD8;&#x539F;&#xFF09; 
#file:&#x5982;&#x679C;mode=backup &#xFF0C;&#x5219;&#x6B64;&#x5904;&#x7684;file&#x662F;&#x6307;&#x751F;&#x6210;&#x7684;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x3002;&#x5982;&#x679C;mode=restore&#xFF0C;&#x5219;&#x6B64;&#x5904;&#x8868;&#x793A;&#x5DF2;&#x7ECF;&#x5B58;&#x5728;&#x7684;&#x4F9B;&#x8FD8;&#x539F;&#x7684;&#x6587;&#x4EF6;&#x3002; 
#log:&#x5907;&#x4EFD;&#x8FC7;&#x7A0B;&#x4E2D;&#x751F;&#x6210;&#x7684;&#x65E5;&#x5FD7;&#x6587;&#x4EF6;&#x3002;
&#x6267;&#x884C;&#x5907;&#x4EFD;&#x547D;&#x4EE4;&#x4EE5;&#x540E;&#x5728;&#x5F53;&#x524D;&#x76EE;&#x5F55;&#x4F1A;&#x751F;&#x6210;&#x4E00;&#x4E2A;&#x540D;&#x4E3A;backup1 &#x7684;&#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x3002;</p>
<h3 id="restore">Restore</h3>
<p>&#x524D;&#x63D0;&#x6761;&#x4EF6;&#xFF1A; 
\1. &#x4E00;&#x53F0;&#x5E72;&#x51C0;&#x7684;&#x670D;&#x52A1;&#x5668;; 
\2. &#x5B89;&#x88C5;ovirt-engine &#x4F46;&#x662F;&#x6CA1;&#x6709;set-up 
\3. &#x4E3B;&#x673A;&#x7684;hostname&#x5FC5;&#x987B;&#x4E0E;&#x5907;&#x4EFD;&#x4E3B;&#x673A;&#x7684;hostname&#x4FDD;&#x6301;&#x4E00;&#x81F4; </p>
<p>&#x8FD8;&#x539F;&#x8FC7;&#x7A0B;&#xFF1A;
\1. &#x6267;&#x884C; Restore 
\2. &#x6267;&#x884C; engine-setup 
&#x6211;&#x4EEC;&#x5728;&#x4E00;&#x53F0;&#x65B0;&#x5B89;&#x88C5;&#x7684;&#x670D;&#x52A1;&#x5668;&#x4E0A;&#x8FD8;&#x539F;&#x521A;&#x521A;&#x5907;&#x4EFD;&#x7684;backup1&#xFF0C;&#x4F7F;&#x7528;&#x793A;&#x4F8B;&#x5982;&#x4E0B;&#xFF1A; 
&#x9996;&#x5148;&#x8BBE;&#x7F6E;&#x65B0;&#x670D;&#x52A1;&#x5668;&#x7684;&#x7F51;&#x7EDC;&#xFF0C;hostname&#x7B49;&#x4FE1;&#x606F;&#x3002;&#x5C06;&#x5907;&#x4EFD;&#x4E3B;&#x673A;&#x4E0A;&#x751F;&#x6210;&#x7684;backup1&#x6587;&#x4EF6;&#x548C;/opt/setup/answer &#x6587;&#x4EF6;&#x4E00;&#x8D77;&#x62F7;&#x8D1D;&#x5230;&#x65B0;&#x7684;&#x4E3B;&#x673A;&#x3002;</p>
<pre><code> yum install ovirt-engine 
 engine-backup --mode=restore --log=restore1.log --file=backup1 --provision-db --provision-dwh-db --no-restore-permissions 
engine-setup --config-append=./answer --offline
</code></pre><p>&#x6267;&#x884C;&#x73A9;&#x4E0A;&#x8FF0;&#x4E09;&#x6761;&#x547D;&#x4EE4;&#x4EE5;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7F51;&#x9875;&#x8BBF;&#x95EE;&#x8FD8;&#x539F;&#x7684;&#x4E3B;&#x673A;https:<em>{IP} &#x8FDB;&#x5165;web&#x754C;&#x9762;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6B64;&#x65F6;&#x8FD8;&#x539F;&#x7684;&#x4E3B;&#x673A;&#x4E0E;&#x4E4B;&#x524D;&#x5907;&#x4EFD;&#x7684;&#x4E3B;&#x673A;&#x4FE1;&#x606F;&#x5B8C;&#x5168;&#x4E00;&#x81F4;&#x3002; &#x53C2;&#x8003;&#x6587;&#x6863;&#xFF1A;<a href="https://ovirt.org/develop/release-management/features/integration/engine-backup/" target="_blank">https://ovirt.org/develop/release-management/features/integration/engine-backup/</a></em></p>
<h2 id="&#x5341;&#x4E00;&#x3001;qos">&#x5341;&#x4E00;&#x3001;QOS</h2>
<p>ovirt &#x4E2D;&#x7684; qos &#x5305;&#x62EC;&#x5B58;&#x50A8;&#x3001;VM&#x7F51;&#x7EDC;&#x3001;&#x4E3B;&#x673A;&#x7F51;&#x7EDC;&#x3001;CPU&#xFF0C;&#x901A;&#x8FC7;&#x914D;&#x7F6E; qos &#x53EF;&#x4EE5;&#x5BF9;&#x53EF;&#x8BBF;&#x95EE;&#x7684;&#x8D44;&#x6E90;&#x8FDB;&#x884C;&#x7CBE;&#x7EC6;&#x7684;&#x63A7;&#x5236;&#xFF0C;&#x521B;&#x5EFA; qos &#x7684;&#x4F4D;&#x7F6E;&#x662F;:</p>
<pre><code>Compute --&gt; &#x6570;&#x636E;&#x4E2D;&#x5FC3; --&gt; &#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x4E2D;&#x5FC3; --&gt; qos
</code></pre><h5 id="&#x5B58;&#x50A8;">&#x5B58;&#x50A8;</h5>
<p>&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x8D28;&#x91CF;&#x5B9A;&#x4E49;&#x4E86;&#x5728;&#x4E00;&#x4E2A;&#x5B58;&#x50A8;&#x57DF;&#x4E2D;&#x7684;&#x865A;&#x62DF;&#x78C1;&#x76D8;&#x7684;&#x6700;&#x5927;&#x541E;&#x5410;&#x7EA7;&#x522B;&#x548C;&#x8F93;&#x5165;&#x3001;&#x8F93;&#x51FA;&#x64CD;&#x4F5C;&#x7684;&#x6700;&#x5927;&#x7EA7;&#x522B;&#x3002;&#x4E3A;&#x865A;&#x62DF;&#x78C1;&#x76D8;&#x5206;&#x914D;&#x5B58;&#x50A8;&#x670D;&#x52A1;&#x8D28;&#x91CF;&#x5141;&#x8BB8;&#x60A8;&#x5BF9;&#x5B58;&#x50A8;&#x57DF;&#x7684;&#x6027;&#x80FD;&#x8FDB;&#x884C;&#x7EC6;&#x5316;&#x914D;&#x7F6E;&#xFF0C;&#x5E76;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x53D1;&#x751F;&#x56E0;&#x4E3A;&#x5BF9;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x78C1;&#x76D8;&#x7684;&#x64CD;&#x4F5C;&#x800C;&#x5F71;&#x54CD;&#x5230;&#x540C;&#x4E00;&#x4E2A;&#x5B58;&#x50A8;&#x57DF;&#x4E2D;&#x7684;&#x5176;&#x5B83;&#x865A;&#x62DF;&#x78C1;&#x76D8;&#x5BB9;&#x91CF;&#x7684;&#x95EE;&#x9898;&#x3002;</p>
<h5 id="&#x521B;&#x5EFA;-qos">&#x521B;&#x5EFA; qos</h5>
<ul>
<li>&#x541E;&#x5410;&#x91CF;&#xFF1A;&#x6BCF;&#x79D2;&#x6570;&#x636E;&#x8BFB;&#x5199;&#x91CF;</li>
<li>iops&#xFF1A;&#x6BCF;&#x79D2;&#x8BFB;&#x5199;&#x6B21;&#x6570;</li>
</ul>
<p>&#x4F7F;&#x7528; qos</p>
<p>&#x5728;&#x521B;&#x5EFA;&#x78C1;&#x76D8;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x78C1;&#x76D8;&#x914D;&#x7F6E;&#x96C6;&#xFF0C;&#x800C;&#x78C1;&#x76D8;&#x914D;&#x7F6E;&#x96C6;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E; qos &#x5C5E;&#x6027;&#xFF0C;&#x78C1;&#x76D8;&#x914D;&#x7F6E;&#x96C6;&#x7684;&#x521B;&#x5EFA;&#x4EE5;&#x53CA; qos &#x7684;&#x521B;&#x5EFA;&#x4F4D;&#x7F6E;&#x662F;:</p>
<pre><code>Storage --&gt; Domains --&gt; &#x9009;&#x62E9;&#x4E00;&#x4E2A;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x57DF; --&gt; &#x78C1;&#x76D8;&#x914D;&#x7F6E;&#x96C6;
</code></pre><p>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x96C6;</p>
<h5 id="vm&#x7F51;&#x7EDC;">VM&#x7F51;&#x7EDC;</h5>
<p>&#x901A;&#x8FC7;&#x8BBE;&#x7F6E;&#x865A;&#x62DF;&#x673A;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#x8D28;&#x91CF;&#xFF0C;&#x7528;&#x6237;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x96C6;&#x6765;&#x63A7;&#x5236;&#x72EC;&#x7ACB;&#x865A;&#x62DF;&#x7F51;&#x7EDC;&#x63A7;&#x5236;&#x5668;&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#x91CF;&#x3002;&#x5B83;&#x53EF;&#x4EE5;&#x63A7;&#x5236;&#x4E0D;&#x540C;&#x7F51;&#x7EDC;&#x5C42;&#x4E0A;&#x7684;&#x5E26;&#x5BBD;&#xFF0C;&#x5E76;&#x63A7;&#x5236;&#x7F51;&#x7EDC;&#x8D44;&#x6E90;&#x4F7F;&#x7528;&#x7684;&#x60C5;&#x51B5;&#x3002;</p>
<h5 id="&#x521B;&#x5EFA;-qos">&#x521B;&#x5EFA; qos</h5>
<ul>
<li>&#x8F6C;&#x5165;&#x7684;&#xFF1A;&#x8FD9;&#x4E2A;&#x8BBE;&#x7F6E;&#x5BF9;&#x6D41;&#x5165;&#x7F51;&#x7EDC;&#x7684;&#x6D41;&#x91CF;&#x8FDB;&#x884C;&#x63A7;&#x5236;&#x3002;&#x9009;&#x62E9;/&#x53D6;&#x6D88;&#x8F6C;&#x5165;&#x7684;&#x9009;&#x9879;&#x6765;&#x542F;&#x7528;/&#x7981;&#x7528;&#x8FD9;&#x4E2A;&#x8BBE;&#x7F6E;&#x3002;<ul>
<li>&#x5E73;&#x5747;&#x503C;&#xFF1A;&#x6D41;&#x5165;&#x7F51;&#x7EDC;&#x6D41;&#x91CF;&#x7684;&#x5E73;&#x5747;&#x901F;&#x5EA6;&#x3002;</li>
<li>&#x9AD8;&#x5CF0;&#xFF1A;&#x6D41;&#x5165;&#x7F51;&#x7EDC;&#x6D41;&#x91CF;&#x7684;&#x5CF0;&#x503C;&#x901F;&#x5EA6;&#x3002;</li>
<li>Burst&#xFF1A;burst &#x53D1;&#x751F;&#x65F6;&#x7684;&#x6D41;&#x5165;&#x7F51;&#x7EDC;&#x6D41;&#x91CF;&#x7684;&#x901F;&#x5EA6;&#x3002;</li>
</ul>
</li>
<li>&#x8F6C;&#x51FA;&#x7684;&#xFF1A;&#x8FD9;&#x4E2A;&#x8BBE;&#x7F6E;&#x5BF9;&#x6D41;&#x51FA;&#x7F51;&#x7EDC;&#x7684;&#x6D41;&#x91CF;&#x8FDB;&#x884C;&#x63A7;&#x5236;&#x3002;&#x9009;&#x62E9;/&#x53D6;&#x6D88;&#x8F6C;&#x51FA;&#x7684;&#x9009;&#x9879;&#x6765;&#x542F;&#x7528;/&#x7981;&#x7528;&#x8FD9;&#x4E2A;&#x8BBE;&#x7F6E;&#x3002;<ul>
<li>&#x5E73;&#x5747;&#x503C;&#xFF1A;&#x6D41;&#x5165;&#x7F51;&#x7EDC;&#x6D41;&#x91CF;&#x7684;&#x5E73;&#x5747;&#x901F;&#x5EA6;&#x3002;</li>
<li>&#x9AD8;&#x5CF0;&#xFF1A;&#x6D41;&#x5165;&#x7F51;&#x7EDC;&#x6D41;&#x91CF;&#x7684;&#x5CF0;&#x503C;&#x901F;&#x5EA6;&#x3002;</li>
<li>Burst&#xFF1A;burst &#x53D1;&#x751F;&#x65F6;&#x7684;&#x6D41;&#x5165;&#x7F51;&#x7EDC;&#x6D41;&#x91CF;&#x7684;&#x901F;&#x5EA6;&#x3002;</li>
</ul>
</li>
</ul>
<h5 id="&#x4F7F;&#x7528;-qos">&#x4F7F;&#x7528; qos</h5>
<p>&#x521B;&#x5EFA;&#x865A;&#x62DF;&#x673A;&#x7684;&#x65F6;&#x5019;&#x9700;&#x8981;&#x9009;&#x62E9;&#x4E00;&#x4E2A; vnic &#x914D;&#x7F6E;&#x96C6;&#xFF0C;&#x800C; vnic &#x914D;&#x7F6E;&#x96C6;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E; qos &#x5C5E;&#x6027;&#xFF0C;&#x521B;&#x5EFA; vnic &#x914D;&#x7F6E;&#x96C6;&#x7684;&#x4F4D;&#x7F6E;&#x662F;:</p>
<pre><code>Network --&gt; vNIC Profiles
</code></pre><h5 id="&#x4E3B;&#x673A;&#x7F51;&#x7EDC;">&#x4E3B;&#x673A;&#x7F51;&#x7EDC;</h5>
<p>&#x4E3B;&#x673A;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#x5668;&#x8D28;&#x91CF;&#x914D;&#x7F6E;&#x4E3B;&#x673A;&#x4E0A;&#x7684;&#x7F51;&#x7EDC;&#x6765;&#x63A7;&#x5236;&#x901A;&#x8FC7;&#x7269;&#x7406;&#x63A5;&#x53E3;&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#x91CF;&#x3002;&#x4F7F;&#x7528;&#x4E3B;&#x673A;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#x8D28;&#x91CF;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x63A7;&#x5236;&#x5728;&#x76F8;&#x540C;&#x7684;&#x7269;&#x7406;&#x7F51;&#x7EDC;&#x63A5;&#x53E3;&#x63A7;&#x5236;&#x5668;&#x4E2D;&#x7684;&#x7F51;&#x7EDC;&#x8D44;&#x6E90;&#x4F7F;&#x7528;&#x60C5;&#x51B5;&#x6765;&#x5BF9;&#x7F51;&#x7EDC;&#x6027;&#x80FD;&#x8FDB;&#x884C;&#x5FAE;&#x8C03;&#x3002;&#x8FD9;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#xFF0C;&#x56E0;&#x4E3A;&#x7269;&#x7406;&#x7F51;&#x7EDC;&#x4E0A;&#x7684;&#x4E00;&#x4E2A;&#x7F51;&#x7EDC;&#x6709;&#x592A;&#x591A;&#x7684;&#x7F51;&#x7EDC;&#x6570;&#x636E;&#x9020;&#x6210;&#x540C;&#x4E00;&#x4E2A;&#x7269;&#x7406;&#x7F51;&#x7EDC;&#x4E0A;&#x7684;&#x5176;&#x5B83;&#x7F51;&#x7EDC;&#x65E0;&#x6CD5;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x7684;&#x60C5;&#x51B5;&#x51FA;&#x73B0;&#x3002;&#x901A;&#x8FC7;&#x914D;&#x7F6E;&#x4E3B;&#x673A;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#x8D28;&#x91CF;&#xFF0C;&#x53EF;&#x4EE5;&#x4F7F;&#x5728;&#x540C;&#x4E00;&#x4E2A;&#x7269;&#x7406;&#x7F51;&#x7EDC;&#x4E0A;&#x7684;&#x4E0D;&#x540C;&#x7F51;&#x7EDC;&#x90FD;&#x6B63;&#x5E38;&#x5DE5;&#x4F5C;&#x3002;</p>
<p>&#x521B;&#x5EFA; qos</p>
<ul>
<li>&#x8F6C;&#x51FA;&#x7684;&#xFF1A;&#x5E94;&#x7528;&#x5230;&#x8F6C;&#x51FA;&#x7684;&#x7F51;&#x7EDC;&#x6D41;&#x91CF;&#x7684;&#x8BBE;&#x7F6E;&#x3002;<ul>
<li>&#x52A0;&#x6743;&#x91CD;&#x7684;&#x5171;&#x4EAB;&#xFF1A;&#x6307;&#x5B9A;&#x4E00;&#x4E2A;&#x7279;&#x5B9A;&#x7F51;&#x7EDC;&#x5E94;&#x8BE5;&#x88AB;&#x5206;&#x914D;&#x7684;&#x903B;&#x8F91;&#x8FDE;&#x63A5;&#x7684;&#x5BB9;&#x91CF;&#xFF08;&#x76F8;&#x5BF9;&#x4E8E;&#x8FDE;&#x63A5;&#x5230;&#x540C;&#x4E00;&#x4E2A;&#x903B;&#x8F91;&#x8FDE;&#x63A5;&#x7684;&#x5176;&#x5B83;&#x7F51;&#x7EDC;&#xFF09;&#x3002;&#x51C6;&#x786E;&#x7684;&#x5171;&#x4EAB;&#x53D6;&#x51B3;&#x4E8E;&#x5728;&#x8FD9;&#x4E2A;&#x8FDE;&#x63A5;&#x4E0A;&#x7684;&#x6240;&#x6709;&#x7F51;&#x7EDC;&#x5171;&#x4EAB;&#x7684;&#x603B;&#x548C;&#x3002;&#x5728;&#x9ED8;&#x8BA4;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5B83;&#x7684;&#x503C;&#x5728; 1 &#x5230; 100 &#x4E4B;&#x95F4;&#x3002;</li>
<li>&#x901F;&#x7387;&#x9650;&#x5236; [Mbps]&#xFF1A;&#x4E00;&#x4E2A;&#x7F51;&#x7EDC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7684;&#x6700;&#x5927;&#x5E26;&#x5BBD;&#x3002;</li>
<li>&#x5B9E;&#x73B0;&#x7684;&#x901F;&#x7387; [Mbps]&#xFF1A;&#x4E00;&#x4E2A;&#x7F51;&#x7EDC;&#x6240;&#x9700;&#x7684;&#x6700;&#x5C0F;&#x5E26;&#x5BBD;&#x3002;&#x5B9E;&#x73B0;&#x7684;&#x901F;&#x7387;&#x5E76;&#x4E0D;&#x4E00;&#x5B9A;&#x53EF;&#x4EE5;&#x88AB;&#x4FDD;&#x8BC1;&#xFF0C;&#x5B83;&#x53D6;&#x51B3;&#x4E8E;&#x7F51;&#x7EDC;&#x7684;&#x67B6;&#x6784;&#x4EE5;&#x53CA;&#x540C;&#x4E00;&#x4E2A;&#x903B;&#x8F91;&#x8FDE;&#x63A5;&#x4E0A;&#x7684;&#x5176;&#x5B83;&#x7F51;&#x7EDC;&#x7684;&#x201C;&#x5B9E;&#x73B0;&#x7684;&#x901F;&#x7387;&#x201D;&#x8BBE;&#x7F6E;&#x3002;</li>
</ul>
</li>
</ul>
<h5 id="&#x4F7F;&#x7528;-qos">&#x4F7F;&#x7528; qos</h5>
<p>&#x4E3B;&#x673A;&#x7F51;&#x7EDC;&#x7684; qos &#x7684;&#x4F7F;&#x7528;&#x662F;&#x5728;&#x521B;&#x5EFA;&#x7F51;&#x7EDC;&#x7684;&#x5C5E;&#x6027;&#x4E2D;&#x8FDB;&#x884C;&#x8BBE;&#x7F6E;&#x7684;&#xFF0C;&#x5177;&#x4F53;&#x7684;&#x4F4D;&#x7F6E;&#x662F;:</p>
<pre><code>Network --&gt; &#x65B0;&#x5EFA;
</code></pre><p>CPU</p>
<p>CPU &#x670D;&#x52A1;&#x8D28;&#x91CF;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x865A;&#x62DF;&#x673A;&#x53EF;&#x4EE5;&#x4ECE;&#x8FD0;&#x884C;&#x5B83;&#x7684;&#x4E3B;&#x673A;&#x4E0A;&#x83B7;&#x5F97;&#x7684;&#x6700;&#x5927;&#x8BA1;&#x7B97;&#x5904;&#x7406;&#x80FD;&#x529B;&#xFF08;&#x4EE5;&#x6240;&#x5360;&#x4E3B;&#x673A;&#x7684;&#x6240;&#x6709;&#x8BA1;&#x7B97;&#x5904;&#x7406;&#x80FD;&#x529B;&#x7684;&#x767E;&#x5206;&#x6BD4;&#x8868;&#x793A;&#xFF09;&#x3002;&#x901A;&#x8FC7;&#x4E3A;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x673A;&#x5173;&#x8054;&#x4E00;&#x4E2A; CPU &#x670D;&#x52A1;&#x8D28;&#x91CF;&#xFF0C;&#x53EF;&#x4EE5;&#x9632;&#x6B62;&#x56E0;&#x4E3A;&#x96C6;&#x7FA4;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#x865A;&#x62DF;&#x673A;&#x7684;&#x8D1F;&#x8F7D;&#x5360;&#x7528;&#x592A;&#x591A;&#x8BA1;&#x7B97;&#x5904;&#x7406;&#x8D44;&#x6E90;&#x800C;&#x5F71;&#x54CD;&#x5230;&#x540C;&#x4E00;&#x96C6;&#x7FA4;&#x4E2D;&#x5176;&#x5B83;&#x865A;&#x62DF;&#x673A;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x7684;&#x8D44;&#x6E90;&#x3002;</p>
<h5 id="&#x521B;&#x5EFA;-qos">&#x521B;&#x5EFA; qos</h5>
<ul>
<li>&#x9650;&#x5236;&#xFF1A;&#x6307;&#x6240;&#x5141;&#x8BB8;&#x7684;&#x6700;&#x5927;&#x5904;&#x7406;&#x80FD;&#x529B;&#xFF08;&#x4EE5;&#x767E;&#x5206;&#x6BD4;&#x7684;&#x5F62;&#x5F0F;&#xFF0C;&#x4F46;&#x4E0D;&#x8981;&#x5305;&#x62EC; % &#x7B26;&#x53F7;&#xFF09;</li>
</ul>
<h5 id="&#x4F7F;&#x7528;-qos">&#x4F7F;&#x7528; qos</h5>
<p>&#x5728;&#x521B;&#x5EFA;&#x865A;&#x62DF;&#x673A;&#x6216;&#x8005;&#x7F16;&#x8F91;&#x865A;&#x62DF;&#x673A;&#x7684;&#x8D44;&#x6E90;&#x5206;&#x914D;&#x4E00;&#x9879;&#x4E2D;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E; cpu &#x914D;&#x7F6E;&#x96C6;&#xFF0C;&#x800C; cpu &#x914D;&#x7F6E;&#x96C6;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E; cpu qos &#x5C5E;&#x6027;&#xFF0C;&#x521B;&#x5EFA; cpu &#x914D;&#x7F6E;&#x96C6;&#x7684;&#x4F4D;&#x7F6E;&#x662F;:</p>
<pre><code>Compute --&gt; Cluster --&gt; &#x9009;&#x62E9;&#x4E00;&#x4E2A; cluster --&gt; CPU &#x914D;&#x7F6E;&#x96C6;
</code></pre><p>&#x65B0;&#x5EFA;&#x4E00;&#x4E2A;&#x914D;&#x7F6E;&#x96C6;</p>
<h2 id="&#x5341;&#x4E8C;&#x3001;&#x4F7F;&#x7528;nat&#x7F51;&#x7EDC;">&#x5341;&#x4E8C;&#x3001;&#x4F7F;&#x7528;nat&#x7F51;&#x7EDC;</h2>
<p>/etc/libvirt/qemu/networks/</p>
<h5 id="1&#x3001;&#x521B;&#x5EFA;nat&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x6587;&#x4EF6;etclibvirtqemunetworksnatxml&#x5185;&#x5BB9;&#x5982;&#x4E0B;">1&#x3001;&#x521B;&#x5EFA;NAT&#x7F51;&#x7EDC;&#x914D;&#x7F6E;&#x6587;&#x4EF6;/etc/libvirt/qemu/networks/nat.xml,&#x5185;&#x5BB9;&#x5982;&#x4E0B;</h5>
<pre><code>&lt;network&gt;
        &lt;name&gt;nat&lt;/name&gt;
        &lt;uuid&gt;b09d09a8-ebbd-476d-9045-e66012c9e83d&lt;/uuid&gt;
        &lt;forward mode=&apos;nat&apos;/&gt;
        &lt;bridge name=&apos;natbr0&apos; stp=&apos;on&apos; delay=&apos;0&apos; /&gt;
        &lt;mac address=&apos;52:54:00:9D:82:DE&apos;/&gt;
        &lt;ip address=&apos;192.168.1.1&apos; netmask=&apos;255.255.255.0&apos;&gt;
            &lt;dhcp&gt;
                &lt;range start=&apos;192.168.1.2&apos; end=&apos;192.168.1.250&apos; /&gt;
            &lt;/dhcp&gt;
        &lt;/ip&gt;
    &lt;/network&gt;
</code></pre><h5 id="2&#x3001;&#x901A;&#x8FC7;libvirtvirsh&#x521B;&#x5EFA;nat&#x7F51;&#x7EDC;">2&#x3001;&#x901A;&#x8FC7;libvirt/virsh&#x521B;&#x5EFA;NAT&#x7F51;&#x7EDC;</h5>
<pre><code>[root@ovirthost01 ~]# cat /etc/pki/vdsm/keys/libvirt_password 
    shibboleth
</code></pre><pre><code>[root@ovirthost01 ~]# virsh

Welcome to virsh, the virtualization interactive terminal.

Type:  &apos;help&apos; for help with commands
       &apos;quit&apos; to quit

virsh # connect qemu:///system
Please enter your authentication name: vdsm@ovirt
Please enter your password: shibboleth

virsh # net-list
 Name                 State      Autostart     Persistent
----------------------------------------------------------
 ;vdsmdummy;          active     no            no
 vdsm-ovirtmgmt       active     yes           yes

virsh # net-define /etc/libvirt/qemu/networks/nat.xml
Network nat defined from /etc/libvirt/qemu/networks/nat.xml

virsh # net-autostart nat
Network nat marked as autostarted

virsh # net-start nat
Network nat started

virsh # net-list --all
 Name                 State      Autostart     Persistent
----------------------------------------------------------
 ;vdsmdummy;          active     no            no
 nat                  active     yes           yes
 vdsm-ovirtmgmt       active     yes           yes

&#x4EE5;&#x4E0A;&#x64CD;&#x4F5C;&#x5C06;&#x521B;&#x5EFA;nat&#x529F;&#x80FD;&#x7684;&#x7F51;&#x6865;&#xFF0C;&#x5982;&#x4E0B;
[root@ovirthost01 ~]# brctl show
bridge name     bridge id               STP enabled     interfaces
;vdsmdummy;             8000.000000000000       no
natbr0          8000.5254009d82de       yes             natbr0-nic
ovirtmgmt               8000.b083fea27fed       no              p4p1
</code></pre><h5 id="3&#x3001;&#x5B89;&#x88C5;vdsm-hook-extnet">3&#x3001;&#x5B89;&#x88C5;vdsm-hook-extnet</h5>
<pre><code>[root@ovirthost01 ~]# yum install -y vdsm-hook-extnet
</code></pre><blockquote>
<p> &#x6CE8;&#xFF1A;&#x6B64;&#x5904;&#x5C06;&#x4E0B;&#x8F7D;extnet&#x7684;hooks&#x6587;&#x4EF6;&#x5E76;&#x5B58;&#x653E;&#x5230;&#x4EE5;&#x4E0B;&#x4E24;&#x76EE;&#x5F55;</p>
</blockquote>
<pre><code>[root@ovirthost01 ~]# ll /usr/libexec/vdsm/hooks/before_device_create
total 4
-rwxr-xr-x. 1 root root 1925 Jun  5 01:47 50_extnet
[root@ovirthost01 ~]# ll /usr/libexec/vdsm/hooks/before_nic_hotplug
total 4
-rwxr-xr-x. 1 root root 1925 Jun  5 01:47 50_extnet
</code></pre><h5 id="4&#x3001;&#x6DFB;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x8BBE;&#x5907;&#x5C5E;&#x6027;extnet">4&#x3001;&#x6DFB;&#x52A0;&#x81EA;&#x5B9A;&#x4E49;&#x8BBE;&#x5907;&#x5C5E;&#x6027;extnet</h5>
<pre><code>[root@ovirthost01 ~]# engine-config -s CustomDeviceProperties=&apos;{type=interface;prop={extnet=^[a-zA-Z0-9_ ---]+$}}&apos;
    Please select a version:
    1. 3.0
    2. 3.1
    3. 3.2
    4. 3.3
    5. 3.4
    6. 3.5
    6
</code></pre><pre><code>[root@ovirthost01 ~]# engine-config -g CustomDeviceProperties
CustomDeviceProperties:  version: 3.0
CustomDeviceProperties:  version: 3.1
CustomDeviceProperties:  version: 3.2
CustomDeviceProperties:  version: 3.3
CustomDeviceProperties: {type=interface;prop={SecurityGroups=^(?:(?:[0-9a-fA-F]{8}-(?:[0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}, *)*[0-9a-fA-F]{8}-(?:[0-9a-fA-F]{4}-){3}[0-9a-fA-F]{12}|)$}} version: 3.4
CustomDeviceProperties: {type=interface;prop={extnet=^[a-zA-Z0-9_ ---]+$}} version: 3.5

[root@ovirthost01 ~]# systemctl restart ovirt-engine
</code></pre><h2 id="&#x5341;&#x4E09;&#x3001;ovirt-shell">&#x5341;&#x4E09;&#x3001;ovirt-shell</h2>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_virtualization/4.1/html/rhevm_shell_guide/chap-using_the_cli" target="_blank">https://access.redhat.com/documentation/en-us/red_hat_virtualization/4.1/html/rhevm_shell_guide/chap-using_the_cli</a></p>
<p><a href="https://www.ovirt.org/develop/release-management/features/infra/cli/" target="_blank">https://www.ovirt.org/develop/release-management/features/infra/cli/</a></p>
<pre><code>yum -y install ovirt-engine-cli
pip install ovirt-shell

vim .ovirtshellrc

[cli]
autoconnect = True
autopage = True
[ovirt-shell]
username = admin@internal
renew_session = False
timeout = -1
extended_prompt = False
url = https://192.168.21.12/ovirt-engine/api
insecure = True
kerberos = False
filter = False
session_timeout = None
ca_file = /etc/pki/ovirt-engine/ca.pem
dont_validate_cert_chain = False
key_file = None
password = qwe
cert_file = None
</code></pre><pre><code>ovirt-shell -E &apos;help&apos;

&#x8FDE;&#x63A5;
ovirt-shell -c -l &quot;https://192.168.21.12/ovirt-engine/api&quot; -P 443 -u admin@internal -I

&#x5217;&#x51FA;&#x8D44;&#x6E90;
list vms
list vms --show-all

&#x4F7F;&#x7528;&#x8FC7;&#x6EE4;&#x67E5;&#x8BE2;&#x5217;&#x51FA;&#x8D44;&#x6E90;
list vms --query &quot;name=centos*&quot;
list vms --kwargs &quot;memory=1073741824&quot;

&#x5217;&#x51FA;&#x5B50;&#x8D44;&#x6E90;
list disks --vm-identifier nfs_desktop
list nics --vm-identifier demo    
list disks --vm-identifier nfs_desktop --kwargs &quot;name=Disk 3&quot;
list vms --kwargs &quot;usb-enabled=True&quot;

&#x67E5;&#x770B;&#x8D44;&#x6E90;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;
show vm centos7
show vm --name nfs_desktop
show vm --id f4a51ae1-4f31-45ee-ab6d-d5965e3bcf71

&#x67E5;&#x770B;&#x5B50;&#x8D44;&#x6E90;&#x8BE6;&#x7EC6;&#x4FE1;&#x606F;
show nic nic1 --vm-identifier demo

&#x6DFB;&#x52A0;&#x8D44;&#x6E90;
add vm --name demo2 --template-name iscsi_desktop_tmpl --cluster-name Default_iscsi
add datacenter --name mydc --storage_type nfs --version-major 3 --version-minor 1

&#x6DFB;&#x52A0;&#x5B50;&#x8D44;&#x6E90;
add nic --vm-identifier demo2 --network-name engine --name mynic

&#x79FB;&#x9664;&#x8D44;&#x6E90;
remove vm aa

&#x79FB;&#x9664;&#x5B50;&#x8D44;&#x6E90;
remove disk &quot;Disk 1&quot; --vm-identifier demo2

&#x66F4;&#x65B0;&#x8D44;&#x6E90;
update vm iscsi_desktop --description iscsi_desktop_desc
update vm iscsi_desktop --display-monitors 2 --description test1

&#x66F4;&#x65B0;&#x5B50;&#x8D44;&#x6E90;
update nic nic1 --vm-identifier demo --interface virtio

&#x5904;&#x7406;
action vm demo start --vm-display-type vnc --async true

&#x79FB;&#x9664;&#x5B50;&#x8D44;&#x6E90;
action nic bond0 attach --host-identifier grey-vdsa

&#x63A7;&#x5236;&#x53F0;
console &apos;my_vm&apos;
console &apos;7dff8517-7007-42cd-9cf7-b7a13a9d96b7&apos;

action vm centos7 stop

&#x521B;&#x5EFA;&#x6570;&#x636E;&#x4E2D;&#x5FC3;
add datacenter --name test --comment &quot;test&quot; --description &quot;test&quot; --storage_type nfs --version-major 3 --version-minor 3

&#x521B;&#x5EFA;&#x96C6;&#x7FA4;
add cluster --data_center-name test --name test --comment &quot;test&quot; 

&#x6DFB;&#x52A0;&#x4E3B;&#x673A;&#x5230;&#x6570;&#x636E;&#x4E2D;&#x5FC3;
list hosts --query &quot;status=maintenance&quot;
update host node-123 --cluster-name test

&#x6DFB;&#x52A0;&#x5B58;&#x50A8;
# add storagedomain --name test --storage-type nfs --storage_format v3 --type data --host-name node-123 --storage-address 192.168.3.157 --storage-path /home/ovirt/nfs-test
add storagedomain --name test --datacenter-identifier test

&#x6DFB;&#x52A0;ISO
add storagedomain --name iso --datacenter-identifier test

&#x521B;&#x5EFA;&#x865A;&#x62DF;&#x673A;
add vm --name test --template-name Blank --cluster-name test

&#x7ED9;&#x865A;&#x62DF;&#x673A;&#x65B0;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x78C1;&#x76D8;
add disk --name test_disk --size 10737418240 --interface virtio
list disks --query &quot;alias=test_disk&quot; | grep id
add disk --id 4357a838-2a99-4a05-a0b9-be6ee6ec5eaa --vm-identifier test

&#x7ED9;&#x865A;&#x62DF;&#x673A;&#x65B0;&#x5206;&#x914D;&#x4E00;&#x4E2A;&#x7F51;&#x5361;
add nic --vm-identifier test --name test --network-name ovirtmgmt

&#x542F;&#x52A8;&#x865A;&#x62DF;&#x673A;
&#x5148;&#x5217;&#x51FA; ISO &#x57DF;&#x540D;&#x91CC;&#x53EF;&#x7528;&#x7684;&#x7684;&#x955C;&#x50CF;.
list files --storagedomain-identifier isoid 
&#x7ED9;&#x865A;&#x62DF;&#x673A;&#x589E;&#x52A0;&#x4E00;&#x4E2A; CDROM &#x8BBE;&#x5907;.
add cdrom --vm-identifier test --file-id CentOS-6.5-x86_64-minimal.iso
&#x542F;&#x52A8;&#x865A;&#x62DF;&#x673A;, &#x4EE5; CDROM &#x4F5C;&#x4E3A;&#x542F;&#x52A8;&#x8BBE;&#x5907;
action vm test start --vm-stateless true --vm-os-boot &quot;boot.dev=cdrom&quot; --vm-display-ty

&#x8BBF;&#x95EE;&#x865A;&#x62DF;&#x673A;
action vm test ticket --ticket-value &quot;abc123&quot;
show vm test | grep displaydisplay-address 
&#x53EF;&#x4EE5;&#x7528; vnc &#x5BA2;&#x6237;&#x7AEF;&#x6253;&#x5F00; 192.168.3.123:5900 &#x52A0;&#x4E0A;&#x4E0A;&#x9762;&#x8BBE;&#x7F6E;&#x7684;&#x4E34;&#x65F6;&#x5BC6;&#x7801;&#x6765;&#x8BBF;&#x95EE;&#x8BE5;&#x865A;&#x62DF;&#x673A;&#x4E86;

&#x811A;&#x672C;

    less /home/mpastern/script
    --------------------------

    list vms
    show vm test | grep status
    list vms --query &quot;name=test*&quot; --show-all | grep status
    list clusters
    list datacenters
    ...

&#x6267;&#x884C;&#x811A;&#x672C;
From linux shell
     [mpastern@lp /]#  ovirt-shell -f /home/mpastern/script
From ovirt shell
    [oVirt shell (connected)]# file /home/mpastern/script
</code></pre><p>sdk</p>
<pre><code>yum -y install gcc libxml2-devel python-devel
yum -y install ovirt-engine-cli


import logging
import ovirtsdk4 as sdk
import ovirtsdk4.types as types

logging.basicConfig(level=logging.DEBUG, filename=&apos;example.log&apos;)

connection = sdk.Connection(
    url=&apos;https://alpha/ovirt-engine/api&apos;,
    username=&apos;admin@internal&apos;,
    password=&apos;qwe&apos;,
    ca_file=&apos;/etc/pki/ovirt-engine/ca.pem&apos;,
    debug=True,
    log=logging.getLogger(),
)
vms_service = connection.system_service().vms_service()
vms = vms_service.list()
for vm in vms:
  print(&quot;%s: %s&quot; % (vm.name, vm.id))
connection.close()

url=&quot;https://alpha/ovirt-engine/api&quot;
user=&quot;admin@internal&quot;
password=&quot;qwe&quot;
vmid=&quot;5e2bf5a7-3e59-47d8-9f86-472a3d51a06e&quot;

curl -X POST \
--insecure \
--header &quot;Accept: application/xml&quot; \
--header &quot;Content-type: application/xml&quot; \
--user &quot;${user}:${password}&quot; \
-d &quot;&lt;action&gt;&lt;/action&gt;&quot; \
&quot;${url}/vms/${vmid}/shutdown&quot;
</code></pre><p>rest api</p>
<p><a href="https://access.redhat.com/documentation/zh-cn/red_hat_enterprise_virtualization/3.6/html/rest_api_guide/" target="_blank">https://access.redhat.com/documentation/zh-cn/red_hat_enterprise_virtualization/3.6/html/rest_api_guide/</a></p>
<p><a href="https://access.redhat.com/documentation/en-us/red_hat_virtualization/4.0/html-single/rest_api_guide/index" target="_blank">https://access.redhat.com/documentation/en-us/red_hat_virtualization/4.0/html-single/rest_api_guide/index</a></p>
<pre><code>url=&quot;https://engine.example.com/ovirt-engine/api&quot;
user=&quot;admin@internal&quot;
password=&quot;...&quot;
curl \
--verbose \
--cacert /etc/pki/ovirt-engine/ca.pem \
--user &quot;${user}:${password}&quot; \
--request POST \
--header &quot;Version: 4&quot; \
--header &quot;Content-Type: application/xml&quot; \
--header &quot;Accept: application/xml&quot; \
--data &apos;
&lt;vm&gt;
  &lt;name&gt;myvm&lt;/name&gt;
  &lt;template&gt;
    &lt;name&gt;Blank&lt;/name&gt;
  &lt;/template&gt;
  &lt;cluster&gt;
    &lt;name&gt;mycluster&lt;/name&gt;
  &lt;/cluster&gt;
&lt;/vm&gt;
&apos; \
&quot;${url}/vms&quot;

POST /ovirt-engine/api/vms/123/migrate

&lt;action&gt;
  &lt;host id=&quot;2ab5e1da-b726-4274-bbf7-0a42b16a0fc3&quot;/&gt;
&lt;/action&gt;

  &lt;migration&gt;
    &lt;auto_converge&gt;inherit&lt;/auto_converge&gt;
    &lt;bandwidth&gt;
      &lt;assignment_method&gt;auto&lt;/assignment_method&gt;
    &lt;/bandwidth&gt;
    &lt;compressed&gt;inherit&lt;/compressed&gt;
  &lt;/migration&gt;
</code></pre><h2 id="&#x5341;&#x56DB;&#x3001;&#x5176;&#x4ED6;&#x95EE;&#x9898;">&#x5341;&#x56DB;&#x3001;&#x5176;&#x4ED6;&#x95EE;&#x9898;</h2>
<h5 id="1&#x3001;the-client-is-not-authorized-to-request-an-authorization-its-required-to-access-the-system-using-fqdn">1&#x3001;The client is not authorized to request an authorization. It&apos;s required to access the system using FQDN.</h5>
<pre><code>/etc/ovirt-engine/engine.conf.d/11-setup-sso.conf

SSO_ALTERNATE_ENGINE_FQDNS

systemctl restart ovirt-engine.service
</code></pre><h5 id="2&#x3001;&#x8DE8;&#x57DF;">2&#x3001;&#x8DE8;&#x57DF;</h5>
<pre><code>$ ssh root@[ENGINE_FQDN] # log as `root` user in the oVirt engine machine
# engine-config -s CORSSupport=true # to turn on the CORS support for REST API
# engine-config -s CORSAllowDefaultOrigins=true # to allow CORS for all configured hosts
# systemctl restart ovirt-engine # to take effect
engine-config -s CORSAllowedOrigins=*
engine-config -s CORSSupport=true
engine-config -l |grep CORS
engine-config -g CORSAllowedOrigins
</code></pre><h5 id="3&#x3001;&#x8FC1;&#x79FB;bug">3&#x3001;&#x8FC1;&#x79FB;bug</h5>
<blockquote>
<p> &#x8FC1;&#x79FB;&#x65F6;&#xFF0C;&#x672A;&#x5B8C;&#x5168;&#x5F00;&#x59CB;&#x5C31;&#x8FC1;&#x79FB;&#xFF0C;&#x865A;&#x62DF;&#x673A;&#x72B6;&#x6001;&#x53EF;&#x80FD;&#x4F1A;&#x4E00;&#x76F4;&#x662F;migrate to&#xFF0C;&#x6B63;&#x5E38;&#x5E94;&#x8BE5;&#x4E3A;Powering Up&#x5230;Up</p>
</blockquote>
<h5 id="4&#x3001;v2v">4&#x3001;v2v</h5>
<pre><code>yum -y install virt-v2v

virsh list --all
vdsm@ovirt
shibboleth

&#x865A;&#x62DF;&#x673A;&#x9700;&#x8981;&#x5173;&#x673A;

&#x8F6C;&#x6362;&#x5E76;&#x5BFC;&#x51FA;&#x5230;&#x5BFC;&#x51FA;&#x57DF;&#xFF08;&#x9700;&#x8981;&#x4FDD;&#x8BC1;&#x865A;&#x62DF;&#x673A;&#x662F;&#x6B63;&#x5E38;&#x7684;&#xFF09;

virt-v2v -i libvirt -o rhev -os 192.168.21.12:/ovirt_export --network ovirtmgmt hl_v2v_test

&#x5728;&#x5BFC;&#x5165;&#x57DF;&#x4E2D;&#x5BFC;&#x5165;&#x865A;&#x62DF;&#x673A;

p2v
https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/6/html/v2v_guide/chap-v2v_guide-p2v_migration_converting_physical_machines_to_virtual_machines
http://blog.csdn.net/lbwlh/article/details/51003595
</code></pre><h5 id="5&#x3001;node-&#x6CE8;&#x518C;">5&#x3001;node &#x6CE8;&#x518C;</h5>
<pre><code>vdsm-tool register --engine-fqdn IP_ADDRESS --check-fqdn false
</code></pre><h5 id="6&#x3001;&#x521B;&#x5EFA;&#x7528;&#x6237;">6&#x3001;&#x521B;&#x5EFA;&#x7528;&#x6237;</h5>
<pre><code>ovirt-aaa-jdbc-tool user add hl
ovirt-aaa-jdbc-tool user password-reset hl --password-valid-to=&quot;2025-01-01 00:00:00-0800&quot;
</code></pre><h2 id="&#x5341;&#x4E94;&#x3001;ovirt-virsh">&#x5341;&#x4E94;&#x3001;ovirt virsh</h2>
<pre><code>vdsm@ovirt #yes
shibboleth
</code></pre>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="computer_network_foundation.html" class="navigation navigation-prev " aria-label="Previous page: 计算机网络基础">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="mqtt.html" class="navigation navigation-next " aria-label="Next page: MQTT 相关">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Ovirt 相关","level":"1.15.5","depth":2,"next":{"title":"MQTT 相关","level":"1.15.6","depth":2,"path":"notes/other/mqtt.md","ref":"notes/other/mqtt.md","articles":[]},"previous":{"title":"计算机网络基础","level":"1.15.4","depth":2,"path":"notes/other/computer_network_foundation.md","ref":"notes/other/computer_network_foundation.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","search-pro","-sharing","expandable-chapters","back-to-top-button","code","splitter","pageview-count","page-toc-button","github","hide-element"],"styles":{"pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"github":{"url":"https://github.com/hlyani"},"splitter":{},"search-pro":{},"code":{"copyButtons":true},"hide-element":{"elements":[".gitbook-link"]},"fontsettings":{"theme":"white","family":"sans","size":2},"highlight":{},"page-toc-button":{"maxTocDepth":"2","minTocSize":"2"},"back-to-top-button":{},"pageview-count":{},"theme-default":{"styles":{"pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css","website":"styles/website.css"},"showLevel":false},"expandable-chapters":{}},"theme":"default","author":"hlyani","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"hlyani","gitbook":"*","description":"hl notes"},"file":{"path":"notes/other/ovirt.md","mtime":"2025-09-08T11:09:44.249Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2025-09-08T11:10:13.087Z"},"basePath":"../..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../../gitbook/gitbook.js"></script>
    <script src="../../gitbook/theme.js"></script>
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-expandable-chapters/expandable-chapters.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-pageview-count/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

